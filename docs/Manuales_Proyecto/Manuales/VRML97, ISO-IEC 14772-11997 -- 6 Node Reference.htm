<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0073)http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html -->
<HTML><HEAD><TITLE>VRML97, ISO/IEC 14772-1:1997 -- 6 Node Reference</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<META content="MSHTML 6.00.2800.1543" name=GENERATOR></HEAD>
<BODY>
<P>
<CENTER><IMG height=85 alt="VRML97 logo" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrml97.gif" 
width=470 align=top NATURALSIZEFLAG="0"></CENTER>
<P></P>
<H1>
<CENTER>The Virtual Reality Modeling Language</CENTER></H1>
<H1>
<CENTER>6 Node reference</CENTER></H1>
<H2><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></H2>
<H2><A name=6.1></A><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"> 6.1 Introduction</H2>
<P>This clause provides a detailed definition of the syntax and semantics of 
each node in this part of ISO/IEC 14772. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Table6.1">Table 
6.1</A> lists the topics in this clause.</P>
<H4>
<CENTER><A name=Table6.1></A>Table 6.1 -- Table of contents</CENTER></H4>
<P>
<TABLE cellSpacing=4 cellPadding=8 border=2>
  <TBODY>
  <TR>
    <TD vAlign=top width="30%"><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#6.1">6.1 
      Introduction</A><BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Anchor">6.2 
      Anchor</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Appearance">6.3 
      Appearance</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#AudioClip">6.4 
      AudioClip</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Background">6.5 
      Background</A><BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Billboard">6.6 
      Billboard</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Box">6.7 
      Box</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Collision">6.8 
      Collision</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Color">6.9 
      Color</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#ColorInterpolator">6.10 
      ColorInterpolator</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Cone">6.11 
      Cone</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Coordinate">6.12 
      Coordinate</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#CoordinateInterpolator">6.13&nbsp;CoordinateInterpolator</A><BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Cylinder">6.14 
      Cylinder</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#CylinderSensor">6.15 
      CylinderSensor</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#DirectionalLight">6.16 
      DirectionalLight</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#ElevationGrid">6.17 
      ElevationGrid</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Extrusion">6.18 
      Extrusion</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Fog">6.19 
      Fog</A></TD>
    <TD vAlign=top width="30%"><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#FontStyle">6.20 
      FontStyle</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Group">6.21 
      Group</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#ImageTexture">6.22 
      ImageTexture</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#IndexedFaceSet">6.23 
      IndexedFaceSet</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#IndexedLineSet">6.24 
      IndexedLineSet</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Inline">6.25 
      Inline</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#LOD">6.26 
      LOD</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Material">6.27 
      Material</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#MovieTexture">6.28 
      MovieTexture</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#NavigationInfo">6.29 
      NavigationInfo</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Normal">6.30 
      Normal</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#NormalInterpolator">6.31 
      NormalInterpolator</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#OrientationInterpolator">6.32&nbsp;OrientationInterpolator</A><BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#PixelTexture">6.33 
      PixelTexture</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#PlaneSensor">6.34 
      PlaneSensor</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#PointLight">6.35 
      PointLight</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#PointSet">6.36 
      PointSet</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#PositionInterpolator">6.37 
      PositionInterpolator</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#ProximitySensor">6.38 
      ProximitySensor</A></TD>
    <TD vAlign=top width="30%"><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#ScalarInterpolator">6.39 
      ScalarInterpolator</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Script">6.40 
      Script</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Shape">6.41 
      Shape</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Sound">6.42 
      Sound</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Sphere">6.43 
      Sphere</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#SphereSensor">6.44 
      SphereSensor</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#SpotLight">6.45 
      SpotLight</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Switch">6.46 
      Switch</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Text">6.47 
      Text</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#TextureCoordinate">6.48 
      TextureCoordinate</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#TextureTransform">6.49 
      TextureTransform</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#TimeSensor">6.50 
      TimeSensor</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#TouchSensor">6.51 
      TouchSensor</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Transform">6.52 
      Transform</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Viewpoint">6.53 
      Viewpoint</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#VisibilitySensor">6.54 
      VisibilitySensor</A> <BR><A 
      href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#WorldInfo">6.55 
      WorldInfo</A></TD></TR></TBODY></TABLE></P>
<P>In this clause, the first item in each subclause presents the public 
declaration for the node. This syntax is not the actual UTF-8 encoding syntax. 
The parts of the interface that are identical to the UTF-8 encoding syntax are 
in <B>bold</B>. The node declaration defines the names and types of the fields 
and events for the node, as well as the default values for the fields.</P>
<P>The node declarations also include value ranges for the node's fields and 
exposedFields (where appropriate). Parentheses imply that the range bound is 
exclusive, while brackets imply that the range value is inclusive. For example, 
a range of (-<IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" 
width=21 align=absMiddle NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,1] defines the 
lower bound as -<IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" 
width=21 align=absMiddle NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif"> exclusively and 
the upper bound as 1 inclusively.</P>
<P>For example, the following defines the Collision node declaration:</P><PRE><B>   Collision {</B> 
      eventIn      MFNode   addChildren
      eventIn      MFNode   removeChildren
<B>     </B> exposedField MFNode   <B>children    []</B>
      exposedField SFBool   <B>collide     TRUE</B>
      field        SFVec3f  <B>bboxCenter  0 0 0</B>     # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
      field        SFVec3f  <B>bboxSize    -1 -1 -1</B>  # (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">) or -1,-1,-1
      field        SFNode   <B>proxy       NULL</B>
      eventOut     SFTime   collideTime
<B>    }</B></PRE>
<P>The fields and events contained within the node declarations are ordered as 
follows:</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>eventIns, in alphabetical order; 
  <LI>exposedFields, in alphabetical order; 
  <LI>fields, in alphabetical order; 
  <LI>eventOuts, in alphabetical order. </LI></OL><!--/NOEDIT-->
<P></P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Anchor></A>6.2 Anchor</H2><PRE><B>Anchor { </B>
  eventIn      MFNode   addChildren
  eventIn      MFNode   removeChildren
  exposedField MFNode   <B>children        []</B>
  exposedField SFString <B>description     "" </B>
  exposedField MFString <B>parameter       []</B>
  exposedField MFString <B>url             []</B>
  field        SFVec3f  <B>bboxCenter      0 0 0</B>     # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        SFVec3f  <B>bboxSize        -1 -1 -1</B>  # (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">) or -1,-1,-1
<B>}</B></PRE>
<P>The Anchor grouping node retrieves the content of a URL when the user 
activates (e.g.,&nbsp;clicks) some geometry contained within the Anchor node's 
children. If the URL points to a valid VRML file, that world replaces the world 
of which the Anchor node is a part (except when the <I>parameter</I> field, 
described below, alters this behaviour). If non-VRML data is retrieved, the 
browser shall determine how to handle that data; typically, it will be passed to 
an appropriate non-VRML browser.</P>
<P>Exactly how a user activates geometry contained by the Anchor node depends on 
the pointing device and is determined by the VRML browser. Typically, clicking 
with the pointing device will result in the new scene replacing the current 
scene. An Anchor node with an empty <I>url</I> does nothing when its children 
are chosen. A description of how multiple Anchors and pointing-device sensors 
are resolved on activation is contained in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7">4.6.7,&nbsp;Sensor 
nodes</A>.</P>
<P>More details on the <I>children</I>, <I>addChildren</I>, and 
<I>removeChildren</I> fields and eventIns can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.5">4.6.5, 
Grouping and children nodes</A>.</P>
<P>The <I>description</I> field in the Anchor node specifies a textual 
description of the Anchor node. This may be used by browser-specific user 
interfaces that wish to present users with more detailed information about the 
Anchor.</P>
<P>The <I>parameter</I> exposed field may be used to supply any additional 
information to be interpreted by the browser. Each string shall consist of 
"keyword=value" pairs. For example, some browsers allow the specification of a 
'target' for a link to display a link in another part of an HTML document. The 
<I>parameter</I> field is then:</P><PRE><B>Anchor { </B>
<B>  parameter [ "target=name_of_frame" ]</B>
  ...
<B>}</B></PRE>
<P>An Anchor node may be used to bind the initial <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Viewpoint">Viewpoint</A> 
node in a world by specifying a URL ending with "#ViewpointName" where 
"ViewpointName" is the name of a viewpoint defined in the VRML file. For 
example:</P><PRE><B>Anchor { </B>
<B>  url "http://www.school.edu/vrml/someScene.wrl#OverView"</B>
<B>  children  Shape { geometry Box {} }</B>
<B>}</B></PRE>
<P>specifies an anchor that loads the VRML file "someScene.wrl" and binds the 
initial user view to the Viewpoint node named "OverView" when the Anchor node's 
geometry (Box) is activated. If the named Viewpoint node is not found in the 
VRML file, the VRML file is loaded using the default Viewpoint node binding 
stack rules (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Viewpoint">6.53, 
Viewpoint</A>).</P>
<P>If the <I>url</I> field is specified in the form "#ViewpointName" 
(i.e.&nbsp;no file name), the Viewpoint node with the given name 
("ViewpointName") in the Anchor's run-time name scope(s) shall be bound 
(<I>set_bind </I>TRUE). The results are undefined if there are multiple 
Viewpoints with the same name in the Anchor's run-time name scope(s). The 
results are undefined if the Anchor node is not part of any run-time name scope 
or is part of more than one run-time name scope. See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.4.6">4.4.6,&nbsp;Run-time&nbsp;name&nbsp;scope</A>, 
for a description of run-time name scopes. See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Viewpoint">6.53,&nbsp;Viewpoint</A>, 
for the Viewpoint transition rules that specify how browsers shall interpret the 
transition from the old Viewpoint node to the new one. For example:</P><PRE><B><TT>Anchor { </TT></B>
<B><TT>  url "#Doorway"</TT></B>
<B><TT>  children Shape { geometry Sphere {} }</TT></B>
<B><TT>}</TT></B></PRE>
<P>binds the viewer to the viewpoint defined by the "Doorway" viewpoint in the 
current world when the sphere is activated. In this case, if the Viewpoint is 
not found, no action occurs on activation.</P>
<P>More details on the <I>url</I> field are contained in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.5">4.5,&nbsp;VRML&nbsp;and&nbsp;the&nbsp;World&nbsp;Wide&nbsp;Web</A>.</P>
<P>The <I>bboxCenter</I> and <I>bboxSize</I> fields specify a bounding box that 
encloses the Anchor's children. This is a hint that may be used for optimization 
purposes. The results are undefined if the specified bounding box is smaller 
than the actual bounding box of the children at any time. The default 
<I>bboxSize</I> value, (-1,&nbsp;-1,&nbsp;-1), implies that the bounding box is 
not specified and if needed shall be calculated by the browser. More details on 
the <I>bboxCenter</I> and <I>bboxSize</I> fields can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.4">4.6.4, 
Bounding boxes</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Appearance></A>6.3 Appearance</H2><PRE><B>Appearance { </B>
  exposedField SFNode <B>material          NULL</B>
  exposedField SFNode<B> texture           NULL</B>
  exposedField SFNode <B>textureTransform  NULL</B>
<B>}</B></PRE>
<P>The Appearance node specifies the visual properties of geometry. The value 
for each of the fields in this node may be NULL. However, if the field is 
non-NULL, it shall contain one node of the appropriate type.</P>
<P>The <I>material</I> field, if specified, shall contain a <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Material">Material</A> 
node. If the <I>material</I> field is NULL or unspecified, lighting is off (all 
lights are ignored during rendering of the object that references this 
Appearance) and the unlit object colour is (1,&nbsp;1,&nbsp;1). Details of the 
VRML lighting model are in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>.</P>
<P>The <I>texture</I> field, if specified, shall contain one of the various 
types of texture nodes (<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#ImageTexture">ImageTexture</A>, 
<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#MovieTexture">MovieTexture</A>, 
or <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#PixelTexture">PixelTexture</A>). 
If the texture node is NULL or the <I>texture</I> field is unspecified, the 
object that references this Appearance is not textured.</P>
<P>The <I>textureTransform</I> field, if specified, shall contain a <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#TextureTransform">TextureTransform</A> 
node. If the <I>textureTransform</I> is NULL or unspecified, the 
<I>textureTransform</I> field has no effect.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=AudioClip></A>6.4 AudioClip</H2><PRE><B>AudioClip { </B>
  exposedField   SFString <B>description      ""</B>
  exposedField   SFBool   <B>loop             FALSE</B>
  exposedField   SFFloat  <B>pitch            1.0        </B># (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField   SFTime   <B>startTime        0          </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField   SFTime   <B>stopTime         0          </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField   MFString <B>url              []</B>
  eventOut       SFTime   duration_changed
  eventOut       SFBool   isActive
<B>}</B></PRE>
<P>An AudioClip node specifies audio data that can be referenced by <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Sound">Sound</A> 
nodes.</P>
<P>The <I>description</I> field specifies a textual description of the audio 
source. A browser is not required to display the <I>description</I> field but 
may choose to do so in addition to playing the sound.</P>
<P>The <I>url</I> field specifies the URL from which the sound is loaded. 
Browsers shall support at least the <I>wavefile</I> format in uncompressed PCM 
format (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/bibliography.html#[WAV]">E.[WAV]</A>). 
It is recommended that browsers also support the MIDI file type 1 sound format 
(see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[MIDI]">2.[MIDI]</A>); 
MIDI files are presumed to use the General MIDI patch set. Subclause <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.5">4.5,&nbsp;VRML&nbsp;and&nbsp;the&nbsp;World&nbsp;Wide&nbsp;Web</A>, 
contains details on the <I>url</I> field. The results are undefined when no URLs 
refer to supported data types</P>
<P>The <I>loop, startTime,</I> and <I>stopTime</I> exposedFields and the 
<I>isActive</I> eventOut, and their effects on the AudioClip node, are discussed 
in detail in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.9">4.6.9,&nbsp;Time-dependent 
nodes</A>. The "<I>cycle"</I> of an AudioClip is the length of time in seconds 
for one playing of the audio at the specified <I>pitch</I>.</P>
<P>The <I>pitch</I> field specifies a multiplier for the rate at which sampled 
sound is played. Values for the <I>pitch</I> field shall be greater than 
zero<I>.</I> Changing the <I>pitch</I> field affects both the pitch and playback 
speed of a sound. A <I>set_pitch</I> event to an active AudioClip is ignored and 
no <I>pitch_changed</I> eventOut is generated. If <I>pitch</I> is set to 2.0, 
the sound shall be played one octave higher than normal and played twice as 
fast. For a sampled sound, the <I>pitch</I> field alters the sampling rate at 
which the sound is played. The proper implementation of pitch control for MIDI 
(or other note sequence sound clips) is to multiply the tempo of the playback by 
the <I>pitch</I> value and adjust the MIDI Coarse Tune and Fine Tune controls to 
achieve the proper pitch change.</P>
<P>A <I>duration_changed</I> event is sent whenever there is a new value for the 
"normal" duration of the clip. Typically, this will only occur when the current 
<I>url</I> in use changes and the sound data has been loaded, indicating that 
the clip is playing a different sound source. The duration is the length of time 
in seconds for one cycle of the audio for a <I>pitch</I> set to 1.0. Changing 
the <I>pitch</I> field will not trigger a <I>duration_changed</I> event. A 
duration value of "-1" implies that the sound data has not yet loaded or the 
value is unavailable for some reason. A <I>duration_changed</I> event shall be 
generated if the AudioClip node is loaded when the VRML file is read or the 
AudioClip node is added to the scene graph.</P>
<P>The <I>isActive</I> eventOut may be used by other nodes to determine if the 
clip is currently active. If an AudioClip is active, it shall be playing the 
sound corresponding to the sound time (i.e.,&nbsp;in the sound's local time 
system with sample 0 at time 0):</P><PRE>    t = (now - startTime) modulo (<TT>duration</TT> / pitch)</PRE>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Background></A>6.5 Background</H2><PRE><B>Background { </B>
  eventIn      SFBool   set_bind
  exposedField MFFloat  <B>groundAngle  []         </B># [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 align=bottom NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">/2]
  exposedField MFColor<B>  groundColor  []         </B># [0,1]
  exposedField MFString <B>backUrl      []</B>
  exposedField MFString <B>bottomUrl    []</B>
  exposedField MFString <B>frontUrl     []</B>
  exposedField MFString <B>leftUrl      []</B>
  exposedField MFString <B>rightUrl     []</B>
  exposedField MFString <B>topUrl       []</B>
  exposedField MFFloat  <B>skyAngle     []         </B># [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 align=bottom NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">]
  exposedField MFColor  <B>skyColor     0 0 0      </B># [0,1]
  eventOut     SFBool   isBound
<B>}</B></PRE>
<P>The Background node is used to specify a colour backdrop that simulates 
ground and sky, as well as a background texture, or <I>panorama</I>, that is 
placed behind all geometry in the scene and in front of the ground and sky. 
Background nodes are specified in the local coordinate system and are affected 
by the accumulated rotation of their ancestors as described below.</P>
<P>Background nodes are bindable nodes as described in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.10">4.6.10,&nbsp;Bindable 
children nodes</A>. There exists a Background stack, in which the top-most 
Background on the stack is the currently active Background. To move a Background 
to the top of the stack, a TRUE value is sent to the <I>set_bind</I> eventIn. 
Once active, the Background is then bound to the browsers view. A FALSE value 
sent to <I>set_bind</I> removes the Background from the stack and unbinds it 
from the browser's view. More detail on the bind stack is described in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.10">4.6.10,&nbsp;Bindable 
children nodes</A>.</P>
<P>The backdrop is conceptually a partial sphere (the ground) enclosed inside of 
a full sphere (the sky) in the local coordinate system with the viewer placed at 
the centre of the spheres. Both spheres have infinite radius and each is painted 
with concentric circles of interpolated colour perpendicular to the local Y-axis 
of the sphere. The Background node is subject to the accumulated rotations of 
its ancestors' transformations. Scaling and translation transformations are 
ignored. The sky sphere is always slightly farther away from the viewer than the 
ground partial sphere causing the ground to appear in front of the sky where 
they overlap.</P>
<P>The <I>skyColor</I> field specifies the colour of the sky at various angles 
on the sky sphere. The first value of the <I>skyColor</I> field specifies the 
colour of the sky at 0.0 radians representing the zenith (i.e.,&nbsp;straight up 
from the viewer). The <I>skyAngle</I> field specifies the angles from the zenith 
in which concentric circles of colour appear. The zenith of the sphere is 
implicitly defined to be 0.0 radians, the natural horizon is at <IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=bottom NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">/2 radians, and the nadir 
(i.e., straight down from the viewer) is at <IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=bottom NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif"> radians. <I>skyAngle</I> 
is restricted to non-decreasing values in the range [0.0, <IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=bottom NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">]. There shall be one 
more <I>skyColor</I> value than there are <I>skyAngle</I> values. The first 
colour value is the colour at the zenith, which is not specified in the 
<I>skyAngle</I> field. If the last <I>skyAngle</I> is less than <I>pi</I>, then 
the colour band between the last <I>skyAngle</I> and the nadir is clamped to the 
last <I>skyColor</I>. The sky colour is linearly interpolated between the 
specified <I>skyColor </I>values.</P>
<P>The <I>groundColor</I> field specifies the colour of the ground at the 
various angles on the ground partial sphere. The first value of the 
<I>groundColor</I> field specifies the colour of the ground at 0.0 radians 
representing the nadir (i.e.,&nbsp;straight down from the user). The 
<I>groundAngle</I> field specifies the angles from the nadir that the concentric 
circles of colour appear. The nadir of the sphere is implicitly defined at 0.0 
radians. <I>groundAngle</I> is restricted to non-decreasing values in the range 
[0.0, <IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=bottom NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">/2]. There shall be one 
more <I>groundColor</I> value than there are <I>groundAngle</I> values. The 
first colour value is for the nadir which is not specified in the 
<I>groundAngle</I> field. If the last <I>groundAngle</I> is less than <IMG 
height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" 
width=12 align=bottom NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">/2, the region between 
the last <I>groundAngle</I> and the equator is non-existant. The ground colour 
is linearly interpolated between the specified <I>groundColor </I>values.</P>
<P>The <I>backUrl</I>, <I>bottomUrl</I>, <I>frontUrl</I>, <I>leftUrl</I>, 
<I>rightUrl</I>, and <I>topUrl</I> fields specify a set of images that define a 
background panorama between the ground/sky backdrop and the scene's geometry. 
The panorama consists of six images, each of which is mapped onto a face of an 
infinitely large cube contained within the backdrop spheres and centred in the 
local coordinate system. The images are applied individually to each face of the 
cube. On the front, back, right, and left faces of the cube, when viewed from 
the origin looking down the negative Z-axis with the Y-axis as the view up 
direction, each image is mapped onto the corresponding face with the same 
orientation as if the image were displayed normally in 2D (<I>backUrl</I> to 
back face, <I>frontUrl</I> to front face, <I>leftUrl</I> to left face, and 
<I>rightUrl</I> to right face<I>)</I>. On the top face of the cube, when viewed 
from the origin looking along the +Y-axis with the +Z-axis as the view up 
direction, the <I>topUrl</I> image is mapped onto the face with the same 
orientation as if the image were displayed normally in 2D. On the bottom face of 
the box, when viewed from the origin along the negative Y-axis with the negative 
Z-axis as the view up direction, the <I>bottomUrl</I> image is mapped onto the 
face with the same orientation as if the image were displayed normally in 
2D.</P>
<P><A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.1">Figure 
6.1</A> illustrates the Background node backdrop and background textures.</P>
<P>Alpha values in the panorama images (i.e.,&nbsp;two or four component images) 
specify that the panorama is semi-transparent or transparent in regions, 
allowing the <I>groundColor</I> and <I>skyColor</I> to be visible.</P>
<P>See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.11">4.6.11, 
Texture maps</A>, for a general description of texture maps.</P>
<P>Often, the <I>bottomUrl</I> and <I>topUrl</I> images will not be specified, 
to allow sky and ground to show. The other four images may depict surrounding 
mountains or other distant scenery. Browsers shall support the JPEG (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[JPEG]">2.[JPEG]</A>) 
and PNG (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[PNG]">2.[PNG]</A>) 
image file formats, and in addition, may support any other image format (e.g., 
CGM) that can be rendered into a 2D image. Support for the GIF (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/bibliography.html#[GIF]">E.[GIF]</A>) 
format is recommended (including transparency) . More detail on the <I>url</I> 
fields can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.5">4.5,&nbsp;VRML&nbsp;and&nbsp;the&nbsp;World&nbsp;Wide&nbsp;Web</A>.</P>
<P><A name=Figure6.1></A><IMG height=312 alt="Background node" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/background.gif" 
width=615 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/background.gif" 
SGI_HEIGHT_UNFIXED SGI_WIDTH_UNFIXED></P>
<H4>
<CENTER>Figure 6.1 -- Background node</CENTER></H4>
<P>Panorama images may be one component (greyscale), two component (greyscale 
plus alpha), three component (full RGB colour), or four-component (full RGB 
colour plus alpha).</P>
<P>Ground colours, sky colours, and panoramic images do not translate with 
respect to the viewer, though they do rotate with respect to the viewer. That 
is, the viewer can never get any closer to the background, but can turn to 
examine all sides of the panorama cube, and can look up and down to see the 
concentric rings of ground and sky (if visible).</P>
<P>Background nodes are not affected by <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Fog">Fog</A> 
nodes. Therefore, if a Background node is active (i.e.,&nbsp;bound) while a Fog 
node is active, then the Background node will be displayed with no fogging 
effects. It is the author's responsibility to set the Background values to match 
the Fog values (e.g.,&nbsp;ground colours fade to fog colour with distance and 
panorama images tinted with fog colour). Background nodes are not affected by 
light sources.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Billboard></A>6.6 Billboard</H2><PRE><B>Billboard { </B>
  eventIn      MFNode   addChildren
  eventIn      MFNode   removeChildren
  exposedField SFVec3f  <B>axisOfRotation 0 1 0     </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFNode   <B>children       []</B>
  field        SFVec3f  <B>bboxCenter     0 0 0     </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        SFVec3f  <B>bboxSize       -1 -1 -1 </B> #&nbsp;(0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">) or -1,-1,-1
<B>}</B></PRE>
<P>The Billboard node is a grouping node which modifies its coordinate system so 
that the Billboard node's local Z-axis turns to point at the viewer. The 
Billboard node has children which may be other children nodes.</P>
<P>The <I>axisOfRotation</I> field specifies which axis to use to perform the 
rotation. This axis is defined in the local coordinate system.</P>
<P>When the <I>axisOfRotation</I> field is not (0,&nbsp;0,&nbsp;0), the 
following steps describe how to rotate the billboard to face the viewer:</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>Compute the vector from the Billboard node's origin to the viewer's 
  position. This vector is called the <I>billboard-to-viewer</I> vector. 
  <LI>Compute the plane defined by the <I>axisOfRotation</I> and the 
  billboard-to-viewer vector. 
  <LI>Rotate the local Z-axis of the billboard into the plane from b., pivoting 
  around the <I>axisOfRotation</I>. </LI></OL><!--/NOEDIT-->
<P></P>
<P>When the axisOfRotation field is set to (0,&nbsp;0,&nbsp;0), the special case 
of <I>viewer-alignment</I> is indicated. In this case, the object rotates to 
keep the billboard's local Y-axis parallel with the Y-axis of the viewer. This 
special case is distinguished by setting the <I>axisOfRotation</I> to (0, 0, 0). 
The following steps describe how to align the billboard's Y-axis to the Y-axis 
of the viewer:</P>
<P><!--NOEDIT-->
<OL type=a start=4>
  <LI>Compute the billboard-to-viewer<I> </I>vector. 
  <LI>Rotate the Z-axis of the billboard to be collinear with the 
  billboard-to-viewer vector and pointing towards the viewer's position. 
  <LI>Rotate the Y-axis of the billboard to be parallel and oriented in the same 
  direction as the Y-axis of the viewer. </LI></OL><!--/NOEDIT-->
<P></P>
<P>If the <I>axisOfRotation</I> and the billboard-to-viewer line are coincident, 
the plane cannot be established and the resulting rotation of the billboard is 
undefined. For example, if the <I>axisOfRotation</I> is set to (0,1,0) (Y-axis) 
and the viewer flies over the billboard and peers directly down the Y-axis, the 
results are undefined<B>.</B></P>
<P>Multiple instances of Billboard nodes (DEF/USE) operate as expected: each 
instance rotates in its unique coordinate system to face the viewer.</P>
<P>Subclause <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.5">4.6.5, 
Grouping and children node<I>s</I></A>, provides a description of the 
<I>children</I>, <I>addChildren</I>, and <I>removeChildren</I> fields and 
eventIns.</P>
<P>The <I>bboxCenter</I> and <I>bboxSize</I> fields specify a bounding box that 
encloses the Billboard node's children. This is a hint that may be used for 
optimization purposes. The results are undefined if the specified bounding box 
is smaller than the actual bounding box of the children at any time. A default 
<I>bboxSize</I> value, (-1,&nbsp;-1,&nbsp;-1), implies that the bounding box is 
not specified and if needed shall be calculated by the browser. A description of 
the <I>bboxCenter</I> and <I>bboxSize</I> fields is contained in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.4">4.6.4, 
Bounding boxes</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Box></A>6.7 Box</H2><PRE><B>Box { </B>
  field    SFVec3f <B>size  2 2 2 </B>       #&nbsp;(0,&nbsp;<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>The Box node specifies a rectangular parallelepiped box centred at 
(0,&nbsp;0,&nbsp;0) in the local coordinate system and aligned with the local 
coordinate axes. By default, the box measures 2 units in each dimension, from -1 
to +1. The <I>size</I> field specifies the extents of the box along the X-, Y-, 
and Z-axes respectively and each component value shall be greater than zero. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.2">Figure 
6.2</A> illustrates the Box node.</P>
<P>
<CENTER><A name=Figure6.2></A><IMG height=326 alt="Box node" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/box.gif" width=353 
align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/box.gif" SGI_HEIGHT_UNFIXED 
SGI_WIDTH_UNFIXED></CENTER>
<P></P>
<H4>
<CENTER>Figure 6.2 -- Box node</CENTER></H4>
<P>Textures are applied individually to each face of the box. On the front (+Z), 
back (-Z), right (+X), and left (-X) faces of the box, when viewed from the 
outside with the +Y-axis up, the texture is mapped onto each face with the same 
orientation as if the image were displayed normally in 2D. On the top face of 
the box (+Y), when viewed from above and looking down the Y-axis toward the 
origin with the -Z-axis as the view up direction, the texture is mapped onto the 
face with the same orientation as if the image were displayed normally in 2D. On 
the bottom face of the box (-Y), when viewed from below looking up the Y-axis 
toward the origin with the +Z-axis as the view up direction, the texture is 
mapped onto the face with the same orientation as if the image were displayed 
normally in 2D. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#TextureTransform">TextureTransform</A> 
affects the texture coordinates of the Box.</P>
<P>The Box node's geometry requires outside faces only. When viewed from the 
inside the results are undefined.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Collision></A>6.8 Collision</H2><PRE><B>Collision {</B> 
  eventIn      MFNode   addChildren
  eventIn      MFNode   removeChildren
<B> </B> exposedField MFNode   <B>children        []</B>
  exposedField SFBool   <B>collide         TRUE</B>
  field        SFVec3f  <B>bboxCenter      0 0 0</B>      # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        SFVec3f  <B>bboxSize        -1 -1 -1</B>   # (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">) or -1,-1,-1
  field        SFNode   <B>proxy           NULL</B>
  eventOut     SFTime   collideTime
<B>}</B></PRE>
<P>The Collision node is a grouping node that specifies the collision detection 
properties for its children (and their descendants), specifies surrogate objects 
that replace its children during collision detection, and sends events 
signalling that a collision has occurred between the avatar and the Collision 
node's geometry or surrogate. By default, all geometric nodes in the scene are 
collidable with the viewer except IndexedLineSet, PointSet, and Text. Browsers 
shall detect geometric collisions between the avatar (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#NavigationInfo">6.29,&nbsp;NavigationInfo</A>) 
and the scene's geometry and prevent the avatar from 'entering' the geometry. 
See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.13.4">4.13.4,&nbsp;Collision&nbsp;detection&nbsp;and&nbsp;terrain&nbsp;following</A>, 
for general information on collision detection.</P>
<P>If there are no Collision nodes specified in a VRML file, browsers shall 
detect collisions between the avatar and all objects during navigation.</P>
<P>Subclause <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.5">4.6.5, 
Grouping and children nodes</A>, contains a description of the <I>children</I>, 
<I>addChildren</I>, and <I>removeChildren</I> fields and eventIns.</P>
<P>The Collision node's <I>collide</I> field enables and disables collision 
detection. If <I>collide</I> is set to FALSE, the children and all descendants 
of the Collision node shall not be checked for collision, even though they are 
drawn. This includes any descendent Collision nodes that have <I>collide</I> set 
to TRUE (i.e.,&nbsp;setting <I>collide</I> to FALSE turns collision off for 
every node below it).</P>
<P>Collision nodes with the <I>collide</I> field set to TRUE detect the nearest 
collision with their descendent geometry (or proxies). When the nearest 
collision is detected, the collided Collision node sends the time of the 
collision through its <I>collideTime</I> eventOut. If a Collision node contains 
a child, descendant, or proxy (see below) that is a Collision node, and both 
Collision nodes detect that a collision has occurred, both send a 
<I>collideTime</I> event at the same time. A <I>collideTime</I> event shall be 
generated if the avatar is colliding with collidable geometry when the Collision 
node is read from a VRML file or inserted into the transformation hierarchy.</P>
<P>The <I>bboxCenter</I> and <I>bboxSize</I> fields specify a bounding box that 
encloses the Collision node's children. This is a hint that may be used for 
optimization purposes. The results are undefined if the specified bounding box 
is smaller than the actual bounding box of the children at any time. A default 
<I>bboxSize</I> value, (-1,&nbsp;-1,&nbsp;-1), implies that the bounding box is 
not specified and if needed shall be calculated by the browser. More details on 
the <I>bboxCenter</I> and <I>bboxSize</I> fields can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.4">4.6.4, 
Bounding boxes</A>.</P>
<P>The collision proxy, defined in the <I>proxy</I> field, is any legal children 
node as described in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.5">4.6.5,&nbsp;Grouping 
and children nodes</A>, that is used as a substitute for the Collision node's 
children during collision detection. The proxy is used strictly for collision 
detection; it is not drawn.</P>
<P>If the value of the <I>collide</I> field is TRUE and the <I>proxy</I> field 
is non-NULL, the <I>proxy</I> field defines the scene on which collision 
detection is performed. If the <I>proxy</I> value is NULL, collision detection 
is performed against the <I>children</I> of the Collision node.</P>
<P>If <I>proxy</I> is specified, any descendent children of the Collision node 
are ignored during collision detection. If <I>children</I> is empty, 
<I>collide</I> is TRUE, and <I>proxy</I> is specified, collision detection is 
performed against the proxy but nothing is displayed. In this manner, invisible 
collision objects may be supported.</P>
<P>The <I>collideTime</I> eventOut generates an event specifying the time when 
the avatar (see&nbsp;<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#NavigationInfo">6.29,&nbsp;NavigationInfo</A>) 
makes contact with the collidable children or proxy of the Collision node. An 
ideal implementation computes the exact time of collision. Implementations may 
approximate the ideal by sampling the positions of collidable objects and the 
user. The <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#NavigationInfo">NavigationInfo</A> 
node contains additional information for parameters that control the avatar 
size.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Color></A>6.9 Color</H2><PRE><B>Color { </B>
  exposedField MFColor <B>color  []         </B># [0,1]
<B>}</B></PRE>
<P>This node defines a set of RGB colours to be used in the fields of another 
node.</P>
<P>Color nodes are only used to specify multiple colours for a single geometric 
shape, such as colours for the faces or vertices of an IndexedFaceSet. A 
Material node is used to specify the overall material parameters of lit 
geometry. If both a Material node and a Color node are specified for a geometric 
shape, the colours shall replace the diffuse component of the material.</P>
<P>RGB or RGBA textures take precedence over colours; specifying both an RGB or 
RGBA texture and a Color node for geometric shape will result in the Color node 
being ignored. Details on lighting equations can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=ColorInterpolator></A> 6.10 
ColorInterpolator</H2><PRE><B>ColorInterpolator { </B>
  eventIn      SFFloat set_fraction        # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFFloat <B>key           []    </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFColor <B>keyValue      []</B>    # [0,1]
  eventOut     SFColor value_changed
<B>}</B></PRE>
<P>This node interpolates among a list of MFColor key values to produce an 
SFColor (RGB) <I>value_changed</I> event. The number of colours in the 
<I>keyValue</I> field shall be equal to the number of keyframes in the 
<I>key</I> field. The <I>keyValue</I> field and <I>value_changed</I> events are 
defined in RGB colour space. A linear interpolation using the value of 
<I>set_fraction</I> as input is performed in HSV space (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/bibliography.html#[FOLE]">E.[FOLE]</A> 
for description of RGB and HSV colour spaces). The results are undefined when 
interpolating between two consecutive keys with complementary hues.</P>
<P><A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.8">4.6.8, 
Interpolator nodes</A>, contains a detailed discussion of interpolators.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Cone></A>6.11 Cone</H2><PRE><B>Cone { </B>
  field     SFFloat   <B>bottomRadius 1        </B># (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field     SFFloat   <B>height       2        </B># (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field     SFBool   <B> side         TRUE</B>
  field     SFBool    <B>bottom       TRUE</B>
}</PRE>
<P>The Cone node specifies a cone which is centred in the local coordinate 
system and whose central axis is aligned with the local Y-axis. The 
<I>bottomRadius</I> field specifies the radius of the cone's base, and the 
<I>height</I> field specifies the height of the cone from the centre of the base 
to the apex. By default, the cone has a radius of 1.0 at the bottom and a height 
of 2.0, with its apex at y = <I>height</I>/2 and its bottom at y = 
-<I>height</I>/2. Both <I>bottomRadius</I> and <I>height</I> shall be greater 
than zero. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.3">Figure 
6.3</A> illustrates the Cone node.</P>
<P>
<CENTER><A name=Figure6.3></A><IMG height=386 alt="Cone node" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cone.gif" 
width=356 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/cone.gif" SGI_HEIGHT_UNFIXED 
SGI_WIDTH_UNFIXED></CENTER>
<P></P>
<H4>
<CENTER>Figure 6.3 -- Cone node</CENTER></H4>
<P>The <I>side</I> field specifies whether sides of the cone are created and the 
<I>bottom</I> field specifies whether the bottom cap of the cone is created. A 
value of TRUE specifies that this part of the cone exists, while a value of 
FALSE specifies that this part does not exist (not rendered or eligible for 
collision or sensor intersection tests).</P>
<P>When a texture is applied to the sides of the cone, the texture wraps 
counterclockwise (from above) starting at the back of the cone. The texture has 
a vertical seam at the back in the X=0&nbsp;plane, from the apex 
(0,&nbsp;<I>height</I>/2,&nbsp;0) to the point 
(0,&nbsp;-<I>height</I>/2,&nbsp;-<I>bottomRadius</I>). For the bottom cap, a 
circle is cut out of the texture square centred at 
(0,&nbsp;-<I>height</I>/2,&nbsp;0) with dimensions 
(2&nbsp;&nbsp;<I>bottomRadius)</I> by (2&nbsp;&nbsp;<I>bottomRadius)</I>. The 
bottom cap texture appears right side up when the top of the cone is rotated 
towards the -Z-axis. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#TextureTransform">TextureTransform</A> 
affects the texture coordinates of the Cone.</P>
<P>The Cone geometry requires outside faces only. When viewed from the inside 
the results are undefined.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Coordinate></A>6.12 Coordinate</H2><PRE><B>Coordinate { </B>
  exposedField MFVec3f <B>point  []      </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>This node defines a set of 3D coordinates to be used in the <I>coord</I> 
field of vertex-based geometry nodes including IndexedFaceSet, IndexedLineSet, 
and PointSet.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=CoordinateInterpolator></A>6.13 
CoordinateInterpolator</H2><PRE><B>CoordinateInterpolator { </B>
  eventIn      SFFloat set_fraction<B>        </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFFloat <B>key           []    </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFVec3f <B><TT>keyValue</TT></B> <B>     []    </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  eventOut     MFVec3f value_changed
<B>}</B></PRE>
<P>This node linearly interpolates among a list of MFVec3f values. The number of 
coordinates in the <I>keyValue</I> field shall be an integer multiple of the 
number of keyframes in the <I>key</I> field. That integer multiple defines how 
many coordinates will be contained in the <I>value_changed </I>events.</P>
<P><A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.8">4.6.8, 
Interpolator nodes</A>, contains a more detailed discussion of 
interpolators.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Cylinder></A>6.14 Cylinder</H2><PRE><B>Cylinder { </B>
  field    SFBool    <B>bottom  TRUE</B>
  field    SFFloat   <B>height  2         </B># (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field    SFFloat   <B>radius  1         </B># (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field    SFBool    <B>side    TRUE</B>
  field    SFBool    <B>top     TRUE</B>
<B>}</B></PRE>
<P>The Cylinder node specifies a capped cylinder centred at (0,0,0) in the local 
coordinate system and with a central axis oriented along the local Y-axis. By 
default, the cylinder is sized at "-1" to "+1" in all three dimensions. The 
<I>radius</I> field specifies the radius of the cylinder and the <I>height</I> 
field specifies the height of the cylinder along the central axis. Both 
<I>radius</I> and <I>height</I> shall be greater than zero. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.4">Figure 
6.4</A> illustrates the Cylinder node.</P>
<P>The cylinder has three <I>parts</I>: the <I>side</I>, the <I>top</I> 
(Y&nbsp;=&nbsp;+height/2) and the <I>bottom</I> (Y&nbsp;=&nbsp;-height/2). Each 
part has an associated SFBool field that indicates whether the part exists 
(TRUE) or does not exist (FALSE). Parts which do not exist are not rendered and 
not eligible for intersection tests (e.g.,&nbsp;collision detection or sensor 
activation).</P>
<P>
<CENTER><A name=Figure6.4></A><IMG height=392 alt="Cylinder node" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cylinder.gif" 
width=452 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/cylinder.gif" SGI_HEIGHT_UNFIXED 
SGI_WIDTH_UNFIXED></CENTER>
<P></P>
<H4>
<CENTER>Figure 6.4 -- Cylinder node</CENTER></H4>
<P>When a texture is applied to a cylinder, it is applied differently to the 
sides, top, and bottom. On the sides, the texture wraps counterclockwise (from 
above) starting at the back of the cylinder. The texture has a vertical seam at 
the back, intersecting the X=0 plane. For the top and bottom caps, a circle is 
cut out of the unit texture squares centred at (0, +/- <I>height/2</I>, 0) with 
dimensions 2&nbsp;&nbsp;<I>radius</I> by 2&nbsp;&nbsp;<I>radius</I>. The top 
texture appears right side up when the top of the cylinder is tilted toward the 
+Z-axis, and the bottom texture appears right side up when the top of the 
cylinder is tilted toward the -Z-axis. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#TextureTransform">TextureTransform</A> 
affects the texture coordinates of the Cylinder node.</P>
<P>The Cylinder node's geometry requires outside faces only. When viewed from 
the inside the results are undefined.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=CylinderSensor></A>6.15 
CylinderSensor</H2><PRE><B>CylinderSensor { </B>
  exposedField SFBool     <B>autoOffset</B> <B>TRUE</B>
  exposedField SFFloat    <B>diskAngle  0.262       </B># (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 align=bottom NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">/2)
  exposedField SFBool    <B> enabled    TRUE</B>
  exposedField SFFloat    <B>maxAngle   -1          </B># [-2<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 align=bottom NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">,2<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 align=bottom NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">]
  exposedField SFFloat    <B>minAngle   0           </B># [-2<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 align=bottom NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">,2<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 align=bottom NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">]
  exposedField SFFloat    <B>offset</B>     <B>0           </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  eventOut     SFBool     isActive
  eventOut     SFRotation rotation_changed
  eventOut     SFVec3f    trackPoint_changed
<B>}</B></PRE>
<P>The CylinderSensor node maps pointer motion (e.g.,&nbsp;a mouse or wand) into 
a rotation on an invisible cylinder that is aligned with the Y-axis of the local 
coordinate system. The CylinderSensor uses the descendent geometry of its parent 
node to determine whether it is liable to generate events.</P>
<P>The <I>enabled</I> exposed field enables and disables the CylinderSensor 
node. If TRUE, the sensor reacts appropriately to user events. If FALSE, the 
sensor does not track user input or send events. If <I>enabled</I> receives a 
FALSE event and <I>isActive</I> is TRUE, the sensor becomes disabled and 
deactivated, and outputs an <I>isActive</I> FALSE event. If <I>enabled</I> 
receives a TRUE event the sensor is enabled and ready for user activation.</P>
<P>A CylinderSensor node generates events when the pointing device is activated 
while the pointer is indicating any descendent geometry nodes of the sensor's 
parent group. See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.5">4.6.7.5,&nbsp;Activating&nbsp;and&nbsp;manipulating&nbsp;sensors</A>, 
for more details on using the pointing device to activate the 
CylinderSensor.</P>
<P>Upon activation of the pointing device while indicating the sensor's 
geometry, an <I>isActive</I> TRUE event is sent. The initial acute angle between 
the bearing vector and the local Y-axis of the CylinderSensor node determines 
whether the sides of the invisible cylinder or the caps (disks) are used for 
manipulation. If the initial angle is less than the <I>diskAngle</I>, the 
geometry is treated as an infinitely large disk lying in the local Y=0 plane and 
coincident with the initial intersection point. Dragging motion is mapped into a 
rotation around the local +Y-axis vector of the sensor's coordinate system. The 
perpendicular vector from the initial intersection point to the Y-axis defines 
zero rotation about the Y-axis. For each subsequent position of the bearing, a 
<I>rotation_changed</I> event is sent that equals the sum of the rotation about 
the +Y-axis vector (from the initial intersection to the new intersection) plus 
the <I>offset</I> value. <I>trackPoint_changed</I> events reflect the unclamped 
drag position on the surface of this disk. When the pointing device is 
deactivated and <I>autoOffset</I> is TRUE, <I>offset</I> is set to the last 
value of <I>rotation_changed</I> and an <I>offset_changed</I> event is 
generated. See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.4">4.6.7.4, 
Drag sensors</A>, for a more general description of <I>autoOffset</I> and 
<I>offset</I> fields.</P>
<P>If the initial acute angle between the bearing vector and the local Y-axis of 
the CylinderSensor node is greater than or equal to <I>diskAngle</I>, then the 
sensor behaves like a cylinder. The shortest distance between the point of 
intersection (between the bearing and the sensor's geometry) and the Y-axis of 
the parent group's local coordinate system determines the radius of an invisible 
cylinder used to map pointing device motion and marks the zero rotation value. 
For each subsequent position of the bearing, a <I>rotation_changed</I> event is 
sent that equals the sum of the right-handed rotation from the original 
intersection about the +Y-axis vector plus the <I>offset</I> value. 
<I>trackPoint_changed</I> events reflect the unclamped drag position on the 
surface of the invisible cylinder. When the pointing device is deactivated and 
<I>autoOffset</I> is TRUE, <I>offset</I> is set to the last rotation angle and 
an <I>offset_changed</I> event is generated. More details are available in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.4">4.6.7.4, 
Drag sensors</A>.</P>
<P>When the sensor generates an <I>isActive</I> TRUE event, it grabs all further 
motion events from the pointing device until it is released and generates an 
<I>isActive</I> FALSE event (other pointing-device sensors shall not generate 
events during this time). Motion of the pointing device while <I>isActive</I> is 
TRUE is referred to as a "drag." If a 2D pointing device is in use, 
<I>isActive</I> events will typically reflect the state of the primary button 
associated with the device (i.e.,&nbsp;<I>isActive</I> is TRUE when the primary 
button is pressed and FALSE when it is released). If a 3D pointing device 
(e.g.,&nbsp;a wand) is in use, <I>isActive</I> events will typically reflect 
whether the pointer is within or in contact with the sensor's geometry.</P>
<P>While the pointing device is activated,<I> trackPoint_changed</I> and 
<I>rotation_changed</I> events are output and are interpreted from pointing 
device motion based on the sensor's local coordinate system at the time of 
activation. <I>trackPoint_changed</I> events represent the unclamped 
intersection points on the surface of the invisible cylinder or disk. If the 
initial angle results in cylinder rotation (as opposed to disk behaviour) and if 
the pointing device is dragged off the cylinder while activated, browsers may 
interpret this in a variety of ways (e.g., clamp all values to the cylinder and 
continuing to rotate as the point is dragged away from the cylinder). Each 
movement of the pointing device while <I>isActive</I> is TRUE generates 
<I>trackPoint_changed</I> and <I>rotation_changed</I> events.</P>
<P>The <I>minAngle</I> and <I>maxAngle</I> fields clamp <I>rotation_changed</I> 
events to a range of values. If <I>minAngle</I> is greater than <I>maxAngle</I>, 
<I>rotation_changed</I> events are not clamped. The <I>minAngle</I> and 
<I>maxAngle</I> fields are restricted to the range [-2<IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=absMiddle NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">, 2<IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=absMiddle NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">].</P>
<P>More information about this behaviour is described in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.3">4.6.7.3, 
Pointing-device sensors</A>, <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.4">4.6.7.4, 
Drag sensors</A>, and <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.5">4.6.7.5, 
Activating and manipulating sensors</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=DirectionalLight></A>6.16 
DirectionalLight</H2><PRE><B>DirectionalLight { </B>
  exposedField SFFloat <B>ambientIntensity  0</B>        # [0,1]
  exposedField SFColor <B>color             1 1 1</B>    # [0,1]
  exposedField SFVec3f <B>direction         0 0 -1   </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFFloat <B>intensity         1 </B>       # [0,1]
  exposedField SFBool  <B>on                TRUE </B>
<B>}</B></PRE>
<P>The DirectionalLight node defines a directional light source that illuminates 
along rays parallel to a given 3-dimensional vector. A description of the 
<I>ambientIntensity</I>, <I>color</I>, <I>intensity</I>, and <I>on</I> fields is 
in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.6">4.6.6, 
Light sources</A>.</P>
<P>The <I>direction </I>field specifies the direction vector of the illumination 
emanating from the light source in the local coordinate system. Light is emitted 
along parallel rays from an infinite distance away. A directional light source 
illuminates only the objects in its enclosing parent group. The light may 
illuminate everything within this coordinate system, including all children and 
descendants of its parent group. The accumulated transformations of the parent 
nodes affect the light.</P>
<P>DirectionalLight nodes do not attenuate with distance. A precise description 
of VRML's lighting equations is contained in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=ElevationGrid></A>6.17 
ElevationGrid</H2><PRE><B>ElevationGrid { </B>
  eventIn      MFFloat  set_height
  exposedField SFNode   <B>color             NULL</B>
  exposedField SFNode  <B> normal            NULL</B>
  exposedField SFNode   <B>texCoord          NULL</B>
  field        MFFloat <B> height            []      # </B>(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        SFBool   <B>ccw               TRUE</B>
  field        SFBool  <B> colorPerVertex    TRUE</B>
  field        SFFloat  <B>creaseAngle       0       </B># [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">]
  field        SFBool <B>  normalPerVertex   TRUE</B>
  field        SFBool   <B>solid             TRUE</B>
  field        SFInt32  <B>xDimension        0    </B>   # [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        SFFloat  <B>xSpacing          1.0     # </B>(0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        SFInt32  <B>zDimension        0    </B>   # [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        SFFloat  <B>zSpacing          1.0     # </B>(0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>The ElevationGrid node specifies a uniform rectangular grid of varying height 
in the Y=0 plane of the local coordinate system. The geometry is described by a 
scalar array of height values that specify the height of a surface above each 
point of the grid.</P>
<P>The <I>xDimension</I> and <I>zDimension</I> fields indicate the number of 
elements of the grid <I>height</I> array in the X and Z directions. Both 
<I>xDimension</I> and <I>zDimension</I> shall be greater than or equal to zero. 
If either the <I>xDimension</I> or the <I>zDimension</I> is less than two, the 
ElevationGrid contains no quadrilaterals. The vertex locations for the 
rectangles are defined by the <I>height</I> field and the <I>xSpacing</I> and 
<I>zSpacing</I> fields:</P>
<UL>
  <LI>The <I>height</I> field is an <I>xDimension</I> by <I>zDimension</I> array 
  of scalar values representing the height above the grid for each vertex. 
  <LI>The <I>xSpacing</I> and <I>zSpacing</I> fields indicate the distance 
  between vertices in the X and Z directions respectively, and shall be greater 
  than zero. </LI></UL>
<P>Thus, the vertex corresponding to the point P[i, j] on the grid is placed 
at:</P><PRE>    P[i,j].x = xSpacing  i
    P[i,j].y = height[ i + j  xDimension]
    P[i,j].z = zSpacing  j

    where 0 &lt;= i &lt; xDimension and 0 &lt;= j &lt; zDimension,
    and P[0,0] is height[0] units above/below the origin of the local
    coordinate system</PRE>
<P>The <I>set_height</I> eventIn allows the height MFFloat field to be changed 
to support animated ElevationGrid nodes.</P>
<P>The <I>color</I> field specifies per-vertex or per-quadrilateral colours for 
the ElevationGrid node depending on the value of <I>colorPerVertex</I>. If the 
<I>color</I> field is NULL, the ElevationGrid node is rendered with the overall 
attributes of the Shape node enclosing the ElevationGrid node (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14,&nbsp;Lighting&nbsp;model</A>).</P>
<P>The <I>colorPerVertex</I> field determines whether colours specified in the 
<I>color</I> field are applied to each vertex or each quadrilateral of the 
ElevationGrid node. If <I>colorPerVertex</I> is FALSE and the <I>color</I> field 
is not NULL, the <I>color</I> field shall specify a Color node containing at 
least (<I>xDimension-1)</I>(<I>zDimension-1)</I> colours; one for each 
quadrilateral, ordered as follows:</P><PRE>    QuadColor[i,j] = Color[ i + j  (xDimension-1)]

    where 0 &lt;= i &lt; xDimension-1 and 0 &lt;= j &lt; zDimension-1,
    and QuadColor[i,j] is the colour for the quadrilateral defined
        by height[i+jxDimension], height[(i+1)+jxDimension],
        height[(i+1)+(j+1)xDimension] and height[i+(j+1)xDimension]</PRE>
<P>If <I>colorPerVertex</I> is TRUE and the <I>color</I> field is not NULL, the 
<I>color</I> field shall specify a Color node containing at least 
<I>xDimension&nbsp;</I>&nbsp;<I>zDimension</I> colours, one for each vertex, 
ordered as follows:</P><PRE>    VertexColor[i,j] = Color[ i + j  xDimension]

    where 0 &lt;= i &lt; xDimension and 0 &lt;= j &lt; zDimension,
    and VertexColor[i,j] is the colour for the vertex defined by
        height[i+jxDimension]</PRE>
<P>The <I>normal</I> field specifies per-vertex or per-quadrilateral normals for 
the ElevationGrid node. If the <I>normal</I> field is NULL, the browser shall 
automatically generate normals, using the <I>creaseAngle</I> field to determine 
if and how normals are smoothed across the surface (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.3.5">4.6.3.5, 
Crease angle field</A>).</P>
<P>The <I>normalPerVertex</I> field determines whether normals are applied to 
each vertex or each quadrilateral of the ElevationGrid node depending on the 
value of <I>normalPerVertex</I>. If <I>normalPerVertex</I> is FALSE and the 
<I>normal</I> node is not NULL, the <I>normal</I> field shall specify a Normal 
node containing at least (<I>xDimension-1)</I>(<I>zDimension-1) </I>normals; 
one for each quadrilateral, ordered as follows:</P><PRE>    QuadNormal[i,j] = Normal[ i + j  (xDimension-1)]

    where 0 &lt;= i &lt; xDimension-1 and 0 &lt;= j &lt; zDimension-1,
    and QuadNormal[i,j] is the normal for the quadrilateral defined
        by height[i+jxDimension], height[(i+1)+jxDimension],
        height[(i+1)+(j+1)xDimension] and height[i+(j+1)xDimension]</PRE>
<P>If <I>normalPerVertex</I> is TRUE and the <I>normal </I>field is not NULL, 
the <I>normal </I>field shall specify a Normal node containing at least 
<I>xDimension&nbsp;</I>&nbsp;<I>zDimension</I> normals; one for each vertex, 
ordered as follows:</P><PRE>    VertexNormal[i,j] = Normal[ i + j  xDimension]

    where 0 &lt;= i &lt; xDimension and 0 &lt;= j &lt; zDimension,
    and VertexNormal[i,j] is the normal for the vertex defined
        by height[i+jxDimension]</PRE>
<P>The <I>texCoord</I> field specifies per-vertex texture coordinates for the 
ElevationGrid node. If <I>texCoord</I> is NULL, default texture coordinates are 
applied to the geometry. The default texture coordinates range from (0,0) at the 
first vertex to (1,1) at the last vertex. The S texture coordinate is aligned 
with the positive X-axis, and the T texture coordinate with positive Z-axis. If 
<I>texCoord</I> is not NULL, it shall specify a TextureCoordinate node 
containing at least (<I>xDimension)</I>(<I>zDimension)</I> texture coordinates; 
one for each vertex, ordered as follows:</P><PRE>    VertexTexCoord[i,j] = TextureCoordinate[ i + j  xDimension]

    where 0 &lt;= i &lt; xDimension and 0 &lt;= j &lt; zDimension,
    and VertexTexCoord[i,j] is the texture coordinate for the vertex
        defined by height[i+jxDimension]</PRE>
<P>The <I>ccw</I>, <I>solid</I>, and <I>creaseAngle</I> fields are described in 
<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.3">4.6.3, 
Shapes and geometry</A>.</P>
<P>By default, the quadrilaterals are defined with a counterclockwise ordering. 
Hence, the Y-component of the normal is positive. Setting the <I>ccw</I> field 
to FALSE reverses the normal direction. Backface culling is enabled when the 
<I>solid</I> field is TRUE.</P>
<P>See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.5">Figure 
6.5</A> for a depiction of the ElevationGrid node.</P>
<P>
<CENTER><A name=Figure6.5></A><IMG height=335 alt="ElevationGrid node" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/ElevationGrid.gif" 
width=527 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/ElevationGrid.gif"></CENTER>
<P></P>
<H4>
<CENTER>Figure 6.5 -- ElevationGrid node</CENTER></H4>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Extrusion></A>6.18 Extrusion</H2><PRE><B>Extrusion { </B>
  eventIn MFVec2f    set_crossSection
  eventIn MFRotation set_orientation
  eventIn MFVec2f    set_scale
  eventIn MFVec3f    set_spine
  field   SFBool     <B>beginCap         TRUE</B>
  field   SFBool     <B>ccw              TRUE</B>
  field   SFBool     <B>convex           TRUE</B>
  field   SFFloat    <B>creaseAngle      0        </B>        # [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field   MFVec2f    <B>crossSection     [ 1 1, 1 -1, -1 -1,</B>
<B>                                       -1 1, 1  1 ]    </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field   SFBool     <B>endCap           TRUE</B>
  field   MFRotation <B>orientation      0 0 1 0          </B># [-1,1],(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field   MFVec2f    <B>scale            1 1              </B># (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field   SFBool     <B>solid            TRUE</B>
  field   MFVec3f    <B>spine            [ 0 0 0, 0 1 0 ] </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<H4>6.18.1 Introduction</H4>
<P>The Extrusion node specifies geometric shapes based on a two dimensional 
cross-section extruded along a three dimensional spine in the local coordinate 
system. The cross-section can be scaled and rotated at each spine point to 
produce a wide variety of shapes.</P>
<P>An Extrusion node is defined by:</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>a 2D <I>crossSection</I> piecewise linear curve (described as a series of 
  connected vertices); 
  <LI>a 3D <I>spine</I> piecewise linear curve (also described as a series of 
  connected vertices); 
  <LI>a list of 2D <I>scale</I> parameters; 
  <LI>a list of 3D <I>orientation</I> parameters. </LI></OL><!--/NOEDIT-->
<P></P>
<H4>6.18.2 Algorithmic description</H4>
<P>Shapes are constructed as follows. The cross-section curve, which starts as a 
curve in the Y=0 plane, is first scaled about the origin by the first 
<I>scale</I> parameter (first value scales in X, second value scales in Z). It 
is then translated by the first spine point and oriented using the first 
<I>orientation</I> parameter (as explained later). The same procedure is 
followed to place a cross-section at the second spine point, using the second 
scale and orientation values. Corresponding vertices of the first and second 
cross-sections are then connected, forming a quadrilateral polygon between each 
pair of vertices. This same procedure is then repeated for the rest of the spine 
points, resulting in a surface extrusion along the spine.</P>
<P>The final orientation of each cross-section is computed by first orienting it 
relative to the spine segments on either side of point at which the 
cross-section is placed. This is known as the <I>spine-aligned cross-section 
plane</I> (SCP), and is designed to provide a smooth transition from one spine 
segment to the next (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.6">Figure&nbsp;6.6</A>). 
The SCP is then rotated by the corresponding <I>orientation</I> value. This 
rotation is performed relative to the SCP. For example, to impart twist in the 
cross-section, a rotation about the Y-axis (0 1 0) would be used. Other 
orientations are valid and rotate the cross-section out of the SCP.</P>
<P>
<CENTER><A name=Figure6.6></A><IMG height=455 
alt="Spine-aligned cross-section plane at a spine point" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/Extrusion.gif" 
width=538 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/Extrusion.gif"></CENTER>
<P></P>
<H4>
<CENTER>Figure 6.6 -- Spine-aligned cross-section plane at a spine 
point.</CENTER></H4>
<P>The SCP is computed by first computing its Y-axis and Z-axis, then taking the 
cross product of these to determine the X-axis. These three axes are then used 
to determine the rotation value needed to rotate the Y=0 plane to the SCP. This 
results in a plane that is the approximate tangent of the spine at each point, 
as shown in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.6">Figure 
6.6</A>. First the Y-axis is determined, as follows:</P>
<P>&nbsp;&nbsp;&nbsp;Let n be the number of spines and let i be the index 
variable satisfying 0 &lt;= i &lt; n:</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI><I>For all points other than the first or last:</I> The Y-axis for 
  <I>spine</I>[i] is found by normalizing the vector defined by 
  (<I>spine</I>[i+1] - <I>spine</I>[i-1]). 
  <LI><I>If the spine curve is closed:</I> The SCP for the first and last points 
  is the same and is found using (<I>spine</I>[1] - <I>spine</I>[n-2]) to 
  compute the Y-axis. 
  <LI><I>If the spine curve is not closed:</I> The Y-axis used for the first 
  point is the vector from <I>spine</I>[0] to <I>spine</I>[1], and for the last 
  it is the vector from <I>spine</I>[<I>n</I>-2] to <I>spine</I>[<I>n</I>-1]. 
  </LI></OL><!--/NOEDIT-->
<P></P>
<P>The Z-axis is determined as follows:</P>
<P><!--NOEDIT-->
<OL type=a start=4>
  <LI><I>For all points other than the first or last:</I> Take the following 
  cross-product: <PRE>Z = (spine[i+1] - spine[i])  (spine[i-1] - spine[i])
  </PRE>
  <LI><I>If the spine curve is closed:</I> The SCP for the first and last points 
  is the same and is found by taking the following cross-product: <PRE>Z = (spine[1] - spine[0])  (spine[n-2] - spine[0]) </PRE>
  <LI><I>If the spine curve is not closed:</I> The Z-axis used for the first 
  spine point is the same as the Z-axis for spine[1]. The Z-axis used for the 
  last spine point is the same as the Z-axis for spine[n-2]. 
  <LI>After determining the Z-axis, its dot product with the Z-axis of the 
  previous spine point is computed. If this value is negative, the Z-axis is 
  flipped (multiplied by -1). In most cases, this prevents small changes in the 
  spine segment angles from flipping the cross-section 180 degrees. </LI></OL><!--/NOEDIT-->
<P></P>
<P>Once the Y- and Z-axes have been computed, the X-axis can be calculated as 
their cross-product.</P>
<H4>6.18.3 Special cases</H4>
<P>If the number of <I>scale</I> or <I>orientation</I> values is greater than 
the number of spine points, the excess values are ignored. If they contain one 
value, it is applied at all spine points. The results are undefined if the 
number of scale or orientation values is greater than one but less than the 
number of spine points. The <I>scale</I> values shall be positive.</P>
<P>If the three points used in computing the Z-axis are collinear, the 
cross-product is zero so the value from the previous point is used instead.</P>
<P>If the Z-axis of the first point is undefined (because the spine is not 
closed and the first two spine segments are collinear) then the Z-axis for the 
first spine point with a defined Z-axis is used.</P>
<P>If the entire spine is collinear, the SCP is computed by finding the rotation 
of a vector along the positive Y-axis (<TT>v1</TT>) to the vector formed by the 
spine points (<TT>v2</TT>). The Y=0 plane is then rotated by this value.</P>
<P>If two points are coincident, they both have the same SCP. If each point has 
a different orientation value, then the surface is constructed by connecting 
edges of the cross-sections as normal. This is useful in creating revolved 
surfaces.</P>
<P><I>Note: combining coincident and non-coincident spine segments, as well as 
other combinations, can lead to interpenetrating surfaces which the extrusion 
algorithm makes no attempt to avoid. </I></P>
<H4>6.18.4 Common cases</H4>
<P>The following common cases are among the effects which are supported by the 
Extrusion node:</P>
<DL>
  <DT><I>Surfaces of revolution:</I> 
  <DD>If the cross-section is an approximation of a circle and the spine is 
  straight, the Extrusion is equivalent to a surface of revolution, where the 
  <I>scale</I> parameters define the size of the cross-section along the spine. 
  <DT><I>Uniform extrusions:</I> 
  <DD>If the <I>scale</I> is (1, 1) and the spine is straight, the cross-section 
  is extruded uniformly without twisting or scaling along the spine. The result 
  is a cylindrical shape with a uniform cross section. 
  <DT><I>Bend/twist/taper objects:</I> 
  <DD>These shapes are the result of using all fields. The spine curve bends the 
  extruded shape defined by the cross-section, the orientation parameters (given 
  as rotations about the Y-axis) twist it around the spine, and the scale 
  parameters taper it (by scaling about the spine). </DD></DL>
<H4>6.18.5 Other fields</H4>
<P>Extrusion has three <I>parts</I>: the sides, the <I>beginCap</I> (the surface 
at the initial end of the spine) and the <I>endCap</I> (the surface at the final 
end of the spine). The caps have an associated SFBool field that indicates 
whether each exists (TRUE) or doesn't exist (FALSE).</P>
<P>When the <I>beginCap</I> or <I>endCap</I> fields are specified as TRUE, 
planar cap surfaces will be generated regardless of whether the 
<I>crossSection</I> is a closed curve. If <I>crossSection</I> is not a closed 
curve, the caps are generated by adding a final point to <I>crossSection</I> 
that is equal to the initial point. An open surface can still have a cap, 
resulting (for a simple case) in a shape analogous to a soda can sliced in half 
vertically. These surfaces are generated even if <I>spine</I> is also a closed 
curve. If a field value is FALSE, the corresponding cap is not generated.</P>
<P>Texture coordinates are automatically generated by Extrusion nodes. Textures 
are mapped so that the coordinates range in the U direction from 0 to 1 along 
the <I>crossSection</I> curve (with 0 corresponding to the first point in 
<I>crossSection</I> and 1 to the last) and in the V direction from 0 to 1 along 
the <I>spine</I> curve (with 0 corresponding to the first listed <I>spine</I> 
point and 1 to the last). If either the <I>endCap</I> or <I>beginCap</I> exists, 
the <I>crossSection</I> curve is uniformly scaled and translated so that the 
larger dimension of the cross-section (X or Z) produces texture coordinates that 
range from 0.0 to 1.0. The <I>beginCap</I> and <I>endCap</I> textures' S and T 
directions correspond to the X and Z directions in which the <I>crossSection</I> 
coordinates are defined.</P>
<P>The browser shall automatically generate normals for the Extrusion node,using 
the <I>creaseAngle</I> field to determine if and how normals are smoothed across 
the surface. Normals for the caps are generated along the Y-axis of the SCP, 
with the ordering determined by viewing the cross-section from above (looking 
along the negative Y-axis of the SCP). By default, a <I>beginCap</I> with a 
counterclockwise ordering shall have a normal along the negative Y-axis. An 
<I>endCap</I> with a counterclockwise ordering shall have a normal along the 
positive Y-axis.</P>
<P>Each quadrilateral making up the sides of the extrusion are ordered from the 
bottom cross-section (the one at the earlier spine point) to the top. So, one 
quadrilateral has the points:</P><PRE>    spine[0](crossSection[0], crossSection[1])
    spine[1](crossSection[1], crossSection[0])</PRE>
<P>in that order. By default, normals for the sides are generated as described 
in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.3">4.6.3,&nbsp;Shapes&nbsp;and&nbsp;geometry</A>.</P>
<P>For instance, a circular crossSection with counter-clockwise ordering and the 
default spine form a cylinder. With <I>solid</I> TRUE and <I>ccw</I> TRUE, the 
cylinder is visible from the outside. Changing <I>ccw</I> to FALSE makes it 
visible from the inside.</P>
<P>The <I>ccw</I>, <I>solid</I>, <I>convex</I>, and <I>creaseAngle</I> fields 
are described in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.3">4.6.3, 
Shapes and geometry</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Fog></A>6.19 Fog</H2><PRE><B>Fog { </B>
  exposedField SFColor  <B>color            1 1 1 </B>     # [0,1]
  exposedField SFString <B>fogType          "LINEAR"</B>
  exposedField SFFloat  <B>visibilityRange  0</B>          # [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  eventIn      SFBool   set_bind
  eventOut     SFBool   isBound
<B>}</B></PRE>
<P>The Fog node provides a way to simulate atmospheric effects by blending 
objects with the colour specified by the <I>color</I> field based on the 
distances of the various objects from the viewer. The distances are calculated 
in the coordinate space of the Fog node. The <I>visibilityRange</I> specifies 
the distance in metres (in the local coordinate system) at which objects are 
totally obscured by the fog. Objects located outside the <I>visibilityRange</I> 
from the viewer are drawn with a constant colour of <I>color</I>. Objects very 
close to the viewer are blended very little with the fog <I>color</I>. A 
<I>visibilityRange</I> of 0.0 disables the Fog node. The <I>visibilityRange</I> 
is affected by the scaling transformations of the Fog node's parents; 
translations and rotations have no affect on <I>visibilityRange</I>. Values of 
the <I>visibilityRange</I> field shall be in the range [0,&nbsp;<IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" 
width=21 align=absMiddle NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">).</P>
<P>Since Fog nodes are bindable children nodes (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.10">4.6.10,&nbsp;Bindable 
children nodes</A>), a Fog node stack exists, in which the top-most Fog node on 
the stack is currently active. To push a Fog node onto the top of the stack, a 
TRUE value is sent to the <I>set_bind</I> eventIn. Once active, the Fog node is 
bound to the browser view. A FALSE value sent to <I>set_bind</I>, pops the Fog 
node from the stack and unbinds it from the browser viewer. More details on the 
Fog node stack can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.10">4.6.10,&nbsp;Bindable 
children nodes</A>.</P>
<P>The <I>fogType</I> field controls how much of the fog colour is blended with 
the object as a function of distance. If <I>fogType</I> is "LINEAR", the amount 
of blending is a linear function of the distance, resulting in a depth cueing 
effect. If <I>fogType</I> is "EXPONENTIAL," an exponential increase in blending 
is used, resulting in a more natural fog appearance.</P>
<P>The effect of fog on lighting calculations is described in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=FontStyle></A>6.20 FontStyle</H2><PRE><B>FontStyle { </B>
  field MFString <B>family       "SERIF"</B>
  field SFBool   <B>horizontal   TRUE</B>
  field MFString <B>justify      "BEGIN"</B>
  field SFString <B>language     ""</B>
  field SFBool   <B>leftToRight  TRUE</B>
  field SFFloat  <B>size         1.0</B>          # (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field SFFloat  <B>spacing      1.0</B>          # [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field SFString <B>style        "PLAIN"</B>
  field SFBool   <B>topToBottom  TRUE</B>
<B>}</B></PRE>
<H4>6.20.1 Introduction</H4>
<P>The FontStyle node defines the size, family, and style used for Text nodes, 
as well as the direction of the text strings and any language-specific rendering 
techniques used for non-English text. See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Text">6.47,&nbsp;Text</A>, 
for a description of the Text node.</P>
<P>The <I>size</I> field specifies the nominal height, in the local coordinate 
system of the Text node, of glyphs rendered and determines the spacing of 
adjacent lines of text. Values of the <I>size</I> field shall be greater than 
zero.</P>
<P>The <I>spacing</I> field determines the line spacing between adjacent lines 
of text. The distance between the baseline of each line of text is 
(<I>spacing&nbsp;</I>&nbsp;<I>size)</I> in the appropriate direction (depending 
on other fields described below). The effects of the <I>size</I> and 
<I>spacing</I> field are depicted in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.7">Figure 
6.7</A> (<I>spacing&nbsp;</I>greater than&nbsp;1.0). Values of the 
<I>spacing</I> field shall be non-negative.</P>
<P>
<CENTER><A name=Figure6.7></A><IMG height=103 alt="FontStyle node example" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/FontStylespacing.gif" 
width=431 align=bottom NATURALSIZEFLAG="0"></CENTER>
<P></P>
<H4>
<CENTER>Figure 6.7 -- Text <I>size</I> and <I>spacing</I> 
fields<BR><BR></CENTER></H4>
<H4>6.20.2 Font family and style</H4>
<P>Font attributes are defined with the <I>family</I> and <I>style</I> fields. 
The browser shall map the specified font attributes to an appropriate available 
font as described below.</P>
<P>The <I>family</I> field contains a case-sensitive MFString value that 
specifies a sequence of font family names in preference order. The browser shall 
search the MFString value for the first font family name matching a supported 
font family. If none of the string values matches a supported font family, the 
default font family <B>"SERIF"</B> shall be used. All browsers shall support at 
least <B>"SERIF"</B> (the default) for a serif font such as Times Roman; 
<B>"SANS"</B> for a sans-serif font such as Helvetica; and <B>"TYPEWRITER"</B> 
for a fixed-pitch font such as Courier. An empty <I>family</I> value is 
identical to <B>["SERIF"]</B>.</P>
<P>The <I>style</I> field specifies a case-sensitive SFString value that may be 
<B>"PLAIN"</B> (the default) for default plain type; <B>"BOLD"</B> for boldface 
type; <B>"ITALIC"</B> for italic type; or <B>"BOLDITALIC"</B> for bold and 
italic type. An empty <I>style</I> value (<B>"")</B> is identical to 
<B>"PLAIN"</B>.</P>
<H4>6.20.3 Direction and justification</H4>
<P>The <I>horizontal</I>, <I>leftToRight</I>, and <I>topToBottom</I> fields 
indicate the direction of the text. The <I>horizontal</I> field indicates 
whether the text advances horizontally in its major direction (<I>horizontal</I> 
= TRUE, the default) or vertically in its major direction (<I>horizontal</I> = 
FALSE). The <I>leftToRight</I> and <I>topToBottom</I> fields indicate direction 
of text advance in the major (characters within a single string) and minor 
(successive strings) axes of layout. Which field is used for the major direction 
and which is used for the minor direction is determined by the <I>horizontal</I> 
field.</P>
<P>For horizontal text (<I>horizontal</I> = TRUE), characters on each line of 
text advance in the positive X direction if <I>leftToRight</I> is TRUE or in the 
negative X direction if <I>leftToRight</I> is FALSE. Characters are advanced 
according to their natural advance width. Each line of characters is advanced in 
the negative Y direction if <I>topToBottom</I> is TRUE or in the positive Y 
direction if <I>topToBottom</I> is FALSE. Lines are advanced by the amount of 
<I>size&nbsp;</I>&nbsp;<I>spacing</I>.</P>
<P>For vertical text (<I>horizontal</I> = FALSE), characters on each line of 
text advance in the negative Y direction if <I>topToBottom</I> is TRUE or in the 
positive Y direction if <I>topToBottom</I> is FALSE. Characters are advanced 
according to their natural advance height. Each line of characters is advanced 
in the positive X direction if <I>leftToRight</I> is TRUE or in the negative X 
direction if <I>leftToRight</I> is FALSE. Lines are advanced by the amount of 
<I>size&nbsp;</I>&nbsp;<I>spacing</I>.</P>
<P>The <I>justify</I> field determines alignment of the above text layout 
relative to the origin of the object coordinate system. The <I>justify</I> field 
is an MFString which can contain 2 values. The first value specifies alignment 
along the major axis and the second value specifies alignment along the minor 
axis, as determined by the <I>horizontal</I> field. An empty <I>justify</I> 
value (<B>"")</B> is equivalent to the default value. If the second string, 
minor alignment, is not specified, minor alignment defaults to the value 
<B>"FIRST".</B> Thus, <I>justify</I> values of <B>""</B>, <B>"BEGIN"</B>, and 
<B>["BEGIN" "FIRST"] </B>are equivalent.</P>
<P>The major alignment is along the X-axis when <I>horizontal</I> is TRUE and 
along the Y-axis when <I>horizontal is</I> FALSE. The minor alignment is along 
the Y-axis when <I>horizontal</I> is TRUE and along the X-axis when 
<I>horizontal is</I> FALSE. The possible values for each enumerant of the 
<I>justify</I> field are <B>"FIRST"</B>, <B>"BEGIN"</B>, <B>"MIDDLE"</B>, and 
<B>"END"</B>. For major alignment, each line of text is positioned individually 
according to the major alignment enumerant. For minor alignment, the block of 
text representing all lines together is positioned according to the minor 
alignment enumerant. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Table6.2">Tables 
6.2-6.5</A> describe the behaviour in terms of which portion of the text is at 
the origin</P>
<H4>
<CENTER><A name=Table6.2></A>Table 6.2 --&nbsp;Major Alignment, 
<I>horizontal</I> = TRUE</CENTER></H4>
<P>
<CENTER>
<TABLE cellSpacing=6 cellPadding=6 border=1>
  <TBODY>
  <TR>
    <TD><B><I>justify</I> Enumerant</B></TD>
    <TD><B><I>leftToRight</I> = TRUE</B></TD>
    <TD><B><I>leftToRight</I> = FALSE</B></TD></TR>
  <TR>
    <TD>&nbsp;FIRST</TD>
    <TD>&nbsp;Left edge of each line</TD>
    <TD>&nbsp;Right edge of each line</TD></TR>
  <TR>
    <TD>&nbsp;BEGIN</TD>
    <TD>&nbsp;Left edge of each line</TD>
    <TD>&nbsp;Right edge of each line</TD></TR>
  <TR>
    <TD>&nbsp;MIDDLE</TD>
    <TD>&nbsp;Centred about X-axis</TD>
    <TD>&nbsp;Centred about X-axis</TD></TR>
  <TR>
    <TD>&nbsp;END</TD>
    <TD>&nbsp;Right edge of each line</TD>
    <TD>&nbsp;Left edge of each line</TD></TR></TBODY></TABLE></CENTER>
<P></P>
<H4>
<CENTER><BR><BR>Table 6.3 --&nbsp;Major Alignment, <I>horizontal</I> = 
FALSE</CENTER></H4>
<P>
<CENTER>
<TABLE cellSpacing=6 cellPadding=6 border=1>
  <TBODY>
  <TR>
    <TD><B><I>justify</I> Enumerant</B></TD>
    <TD><B><I>topToBottom</I> = TRUE</B></TD>
    <TD><B><I>topToBottom</I> = FALSE</B></TD></TR>
  <TR>
    <TD>&nbsp;FIRST</TD>
    <TD>&nbsp;Top edge of each line</TD>
    <TD>&nbsp;Bottom edge of each line</TD></TR>
  <TR>
    <TD>&nbsp;BEGIN</TD>
    <TD>&nbsp;Top edge of each line</TD>
    <TD>&nbsp;Bottom edge of each line</TD></TR>
  <TR>
    <TD>&nbsp;MIDDLE</TD>
    <TD>&nbsp;Centred about Y-axis</TD>
    <TD>&nbsp;Centre about Y-axis</TD></TR>
  <TR>
    <TD>&nbsp;END</TD>
    <TD>&nbsp;Bottom edge of each line</TD>
    <TD>&nbsp;Top edge of each line</TD></TR></TBODY></TABLE></CENTER>
<P></P>
<H4>
<CENTER><BR><BR>Table 6.4 --&nbsp;Minor Alignment, <I>horizontal</I> = 
TRUE</CENTER></H4>
<P>
<CENTER>
<TABLE cellSpacing=6 cellPadding=6 border=1>
  <TBODY>
  <TR>
    <TD><B><I>justify</I> Enumerant</B></TD>
    <TD><B><I>topToBottom</I> = TRUE</B></TD>
    <TD><B><I>topToBottom</I> = FALSE</B></TD></TR>
  <TR>
    <TD>&nbsp;FIRST</TD>
    <TD>&nbsp;Baseline of first line</TD>
    <TD>&nbsp;Baseline of first line</TD></TR>
  <TR>
    <TD>&nbsp;BEGIN</TD>
    <TD>&nbsp;Top edge of first line</TD>
    <TD>&nbsp;Bottom edge of first line</TD></TR>
  <TR>
    <TD>&nbsp;MIDDLE</TD>
    <TD>&nbsp;Centred about Y-axis</TD>
    <TD>&nbsp;Centred about Y-axis</TD></TR>
  <TR>
    <TD>&nbsp;END</TD>
    <TD>&nbsp;Bottom edge of last line&nbsp;</TD>
    <TD>&nbsp;Top edge of last line</TD></TR></TBODY></TABLE></CENTER>
<P></P>
<H4>
<CENTER><BR><BR>Table 6.5 --&nbsp;Minor Alignment, <I>horizontal</I> = 
FALSE</CENTER></H4>
<P>
<CENTER>
<TABLE cellSpacing=6 cellPadding=6 border=1>
  <TBODY>
  <TR>
    <TD><B><I>justify</I> Enumerant</B></TD>
    <TD><B><I>leftToRight</I> = TRUE</B></TD>
    <TD><B><I>leftToRight</I> = FALSE</B></TD></TR>
  <TR>
    <TD>&nbsp;FIRST</TD>
    <TD>&nbsp;Left edge of first line</TD>
    <TD>&nbsp;Right edge of first line</TD></TR>
  <TR>
    <TD>&nbsp;BEGIN</TD>
    <TD>&nbsp;Left edge of first line</TD>
    <TD>&nbsp;Right edge of first line</TD></TR>
  <TR>
    <TD>&nbsp;MIDDLE</TD>
    <TD>&nbsp;Centred about X-axis</TD>
    <TD>&nbsp;Centred about X-axis</TD></TR>
  <TR>
    <TD>&nbsp;END</TD>
    <TD>&nbsp;Right edge of last line</TD>
    <TD>&nbsp;Left edge of last line</TD></TR></TBODY></TABLE></CENTER>
<P></P>
<P>
<CENTER><BR><BR></CENTER>
<P></P>
<P>The default minor alignment is <B>"FIRST"</B>. This is a special case of 
minor alignment when <I>horizontal</I> is TRUE. Text starts at the baseline at 
the Y-axis. In all other cases, <B>"FIRST"</B> is identical to <B>"BEGIN"</B>. 
In <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.8">Tables 
6.6 and 6.7</A>, each colour-coded cross-hair indicates where the X-axis and 
Y-axis shall be in relation to the text. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.8">Figure 
6.8</A> describes the symbols used in Tables 6.6 and 6.7.</P>
<H4>
<CENTER><A name=Figure6.8></A><IMG height=93 alt="Key for Tables 6.6 and 6.7" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/key.gif" width=349 
align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/key.gif"><BR>Figure 6.8 
--&nbsp;Key for Tables 6.6 and 6.7<BR><BR><BR>Table 6.6 
--&nbsp;<I>horizontal</I> = TRUE</CENTER></H4>
<H4>
<CENTER><IMG height=278 alt="horizontal = TRUE" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/horizontal.gif" 
width=633 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/horizontal.gif"><BR><BR><BR></CENTER></H4>
<H4>
<CENTER>Table 6.7 --&nbsp;<I>horizontal = FALSE</I></CENTER></H4>
<H4>
<CENTER><IMG height=483 alt="horizontal = FALSE" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vertical.gif" 
width=630 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/vertical.gif"><BR><BR><BR></CENTER></H4>
<H4>6.20.4 Language</H4>
<P>The <I>language</I> field specifies the context of the language for the text 
string. Due to the multilingual nature of the ISO/IEC 10646-1:1993, the 
<I>language</I> field is needed to provide a proper language attribute of the 
text string. The format is based on RFC 1766: language[_territory] <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[1766]">2.[1766]</A>. 
The value for the language tag is based on ISO 639:1988 (e.g.,&nbsp;'zh' for 
Chinese, 'jp' for Japanese, and 'sc' for Swedish.) The territory tag is based on 
ISO 3166:1993 country codes (e.g.,&nbsp;'TW' for Taiwan and 'CN' for China for 
the 'zh' Chinese language tag). If the <I>language</I> field is empty (""), 
local language bindings are used.</P>
<P>See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html">2, 
Normative references</A>, for more information on RFC 1766 (<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[1766]">2.[1766]</A>), 
ISO/IEC 10646:1993 (<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[UTF8]">2.[UTF8]</A>), 
ISO/IEC 639:1998 (<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[I639]">2.[I639]</A>), 
and ISO 3166:1993 (<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[I3166]">2.[I3166]</A>).</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Group></A>6.21 Group</H2><PRE><B>Group { </B>
  eventIn      MFNode  addChildren
  eventIn      MFNode  removeChildren
  exposedField MFNode  <B>children      []</B>
  field        SFVec3f <B>bboxCenter    0 0 0     </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        SFVec3f <B>bboxSize      -1 -1 -1 </B> #&nbsp;(0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)&nbsp;or&nbsp;-1,-1,-1
<B>}</B></PRE>
<P>A Group node contains children nodes without introducing a new 
transformation. It is equivalent to a Transform node containing an identity 
transform.</P>
<P>More details on the <I>children</I>, <I>addChildren</I>, and 
<I>removeChildren</I> fields and eventIns can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.5">4.6.5, 
Grouping and children nodes</A>.</P>
<P>The <I>bboxCenter</I> and <I>bboxSize</I> fields specify a bounding box that 
encloses the Group node's children. This is a hint that may be used for 
optimization purposes. The results are undefined if the specified bounding box 
is smaller than the actual bounding box of the children at any time. A default 
<I>bboxSize</I> value, (-1, -1, -1), implies that the bounding box is not 
specified and, if needed, is calculated by the browser. A description of the 
<I>bboxCenter</I> and <I>bboxSize</I> fields is contained in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.4">4.6.4, 
Bounding boxes</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=ImageTexture></A>6.22 ImageTexture</H2><PRE><B>ImageTexture { </B>
  exposedField MFString <B>url     []</B>
  field        SFBool   <B>repeatS TRUE</B>
  field        SFBool   <B>repeatT TRUE</B>
<B>}</B></PRE>
<P>The ImageTexture node defines a texture map by specifying an image file and 
general parameters for mapping to geometry. Texture maps are defined in a 2D 
coordinate system (s,&nbsp;t) that ranges from [0.0, 1.0] in both directions. 
The bottom edge of the image corresponds to the S-axis of the texture map, and 
left edge of the image corresponds to the T-axis of the texture map. The 
lower-left pixel of the image corresponds to s=0, t=0, and the top-right pixel 
of the image corresponds to s=1, t=1. These relationships are depicted in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.9">Figure 
6.9</A>.</P>
<P>
<CENTER><A name=Figure6.9></A><IMG height=228 alt="Texture map coord system" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/ImageTexture.gif" 
width=413 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/ImageTexture.gif" 
SGI_HEIGHT_UNFIXED SGI_WIDTH_UNFIXED></CENTER>
<P></P>
<H4>
<CENTER>Figure 6.9 -- Texture map coordinate system</CENTER></H4>
<P>The texture is read from the URL specified by the <I>url</I> field. When the 
<I>url</I> field contains no values ([]), texturing is disabled. Browsers shall 
support the JPEG (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[JPEG]">2.&nbsp;[JPEG]</A>) 
and PNG (see&nbsp;<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[PNG]">2.&nbsp;[PNG]</A>) 
image file formats. In addition, browsers may support other image formats 
(e.g.&nbsp;CGM, <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[CGM]">2.&nbsp;[CGM]</A>) 
which can be rendered into a 2D image. Support for the GIF format (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/bibliography.html#[GIF]">E.&nbsp;[GIF]</A>) 
is also recommended (including transparency). Details on the <I>url</I> field 
can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.5">4.5,&nbsp;VRML&nbsp;and&nbsp;the&nbsp;World&nbsp;Wide&nbsp;Web</A>.</P>
<P>See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.11">4.6.11, 
Texture maps</A>, for a general description of texture maps.</P>
<P>See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>, for a description of lighting equations and the interaction 
between textures, materials, and geometry appearance.</P>
<P>The <I>repeatS</I> and <I>repeatT</I> fields specify how the texture wraps in 
the S and T directions. If <I>repeatS</I> is TRUE (the default), the texture map 
is repeated outside the [0.0,&nbsp;1.0] texture coordinate range in the S 
direction so that it fills the shape. If <I>repeatS</I> is FALSE, the texture 
coordinates are clamped in the S direction to lie within the [0.0,&nbsp;1.0] 
range. The <I>repeatT</I> field is analogous to the <I>repeatS</I> field.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=IndexedFaceSet></A>6.23 
IndexedFaceSet</H2><PRE><B>IndexedFaceSet { </B>
  eventIn       MFInt32 set_colorIndex
  eventIn       MFInt32 set_coordIndex
  eventIn       MFInt32 set_normalIndex
  eventIn       MFInt32 set_texCoordIndex
  exposedField  SFNode  <B>color             NULL</B>
  exposedField  SFNode  <B>coord             NULL</B>
  exposedField  SFNode  <B>normal            NULL</B>
  exposedField  SFNode  <B>texCoord          NULL</B>
  field         SFBool  <B>ccw               TRUE</B>
  field         MFInt32 <B>colorIndex        []</B>        # [-1,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field         SFBool  <B>colorPerVertex    TRUE</B>
  field         SFBool  <B>convex            TRUE</B>
  field         MFInt32 <B>coordIndex        []      </B>  # [-1,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field         SFFloat <B>creaseAngle       0         </B># [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field         MFInt32 <B>normalIndex       []</B>        # [-1,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field         SFBool  <B>normalPerVertex   TRUE</B>
  field         SFBool  <B>solid             TRUE</B>
  field         MFInt32<B> texCoordIndex     []</B>        # [-1,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>The IndexedFaceSet node represents a 3D shape formed by constructing faces 
(polygons) from vertices listed in the <I>coord</I> field. The <I>coord</I> 
field contains a Coordinate node that defines the 3D vertices referenced by the 
<I>coordIndex</I> field. IndexedFaceSet uses the indices in its 
<I>coordIndex</I> field to specify the polygonal faces by indexing into the 
coordinates in the Coordinate node. An index of "-1" indicates that the current 
face has ended and the next one begins. The last face may be (but does not have 
to be) followed by a "-1" index. If the greatest index in the <I>coordIndex</I> 
field is N, the Coordinate node shall contain N+1 coordinates (indexed as 0 to 
N). Each face of the IndexedFaceSet shall have:</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>at least three non-coincident vertices; 
  <LI>vertices that define a planar polygon; 
  <LI>vertices that define a non-self-intersecting polygon. </LI></OL><!--/NOEDIT-->
<P></P>
<P>Otherwise, The results are undefined.</P>
<P>The IndexedFaceSet node is specified in the local coordinate system and is 
affected by the transformations of its ancestors.</P>
<P>Descriptions of the <I>coord</I>, <I>normal</I>, and <I>texCoord</I> fields 
are provided in the <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Coordinate">Coordinate</A>, 
<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Normal">Normal</A>, 
and <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#TextureCoordinate">TextureCoordinate</A> 
nodes, respectively.</P>
<P>Details on lighting equations and the interaction between <I>color</I> field, 
<I>normal</I> field, textures, materials, and geometries are provided in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>.</P>
<P>If the <I>color </I>field is not NULL, it shall contain a Color node whose 
colours are applied to the vertices or faces of the IndexedFaceSet as 
follows:</P>
<P><!--NOEDIT-->
<OL type=a start=4>
  <LI>If <I>colorPerVertex</I> is FALSE, colours are applied to each face, as 
  follows: 
  <OL type=1>
    <LI>If the <I>colorIndex</I> field is not empty, then one colour is used for 
    each face of the IndexedFaceSet. There shall be at least as many indices in 
    the <I>colorIndex</I> field as there are faces in the IndexedFaceSet. If the 
    greatest index in the <I>colorIndex</I> field is N, then there shall be N+1 
    colours in the Color node. The <I>colorIndex</I> field shall not contain any 
    negative entries. 
    <LI>If the <I>colorIndex</I> field is empty, then the colours in the Color 
    node are applied to each face of the IndexedFaceSet in order. There shall be 
    at least as many colours in the Color node as there are faces. </LI></OL>
  <LI>If <I>colorPerVertex</I> is TRUE, colours are applied to each vertex, as 
  follows: 
  <OL type=1>
    <LI>If the <I>colorIndex</I> field is not empty, then colours are applied to 
    each vertex of the IndexedFaceSet in exactly the same manner that the 
    <I>coordIndex</I> field is used to choose coordinates for each vertex from 
    the Coordinate node. The <I>colorIndex</I> field shall contain at least as 
    many indices as the <I>coordIndex</I> field, and shall contain end-of-face 
    markers (-1) in exactly the same places as the <I>coordIndex</I> field. If 
    the greatest index in the <I>colorIndex</I> field is N, then there shall be 
    N+1 colours in the Color node. 
    <LI>If the <I>colorIndex</I> field is empty, then the <I>coordIndex</I> 
    field is used to choose colours from the Color node. If the greatest index 
    in the <I>coordIndex</I> field is N, then there shall be N+1 colours in the 
    Color node. </LI></OL></LI></OL><!--/NOEDIT-->
<P></P>
<P>If the <I>color</I> field is NULL, the geometry shall be rendered normally 
using the Material and texture defined in the Appearance node (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>, for details).</P>
<P>If the <I>normal</I> field is not NULL, it shall contain a Normal node whose 
normals are applied to the vertices or faces of the IndexedFaceSet in a manner 
exactly equivalent to that described above for applying colours to 
vertices/faces (where <I>normalPerVertex</I> corresponds to 
<I>colorPerVertex</I> and <I>normalIndex</I> corresponds to <I>colorIndex</I>). 
If the <I>normal</I> field is NULL, the browser shall automatically generate 
normals, using <I>creaseAngle</I> to determine if and how normals are smoothed 
across shared vertices (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.3.5">4.6.3.5, 
Crease angle field</A>).</P>
<P>If the <I>texCoord</I> field is not NULL, it shall contain a <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#TextureCoordinate">TextureCoordinate</A> 
node. The texture coordinates in that node are applied to the vertices of the 
IndexedFaceSet as follows:</P>
<P><!--NOEDIT-->
<OL type=a start=6>
  <LI>If the <I>texCoordIndex</I> field is not empty, then it is used to choose 
  texture coordinates for each vertex of the IndexedFaceSet in exactly the same 
  manner that the <I>coordIndex</I> field is used to choose coordinates for each 
  vertex from the Coordinate node. The <I>texCoordIndex</I> field shall contain 
  at least as many indices as the <I>coordIndex</I> field, and shall contain 
  end-of-face markers (-1) in exactly the same places as the <I>coordIndex</I> 
  field. If the greatest index in the <I>texCoordIndex</I> field is N, then 
  there shall be N+1 texture coordinates in the TextureCoordinate node. 
  <LI>If the <I>texCoordIndex</I> field is empty, then the <I>coordIndex</I> 
  array is used to choose texture coordinates from the TextureCoordinate node. 
  If the greatest index in the <I>coordIndex</I> field is N, then there shall be 
  N+1 texture coordinates in the TextureCoordinate node. </LI></OL><!--/NOEDIT-->
<P></P>
<P>If the <I>texCoord</I> field is NULL, a default texture coordinate mapping is 
calculated using the local coordinate system bounding box of the shape. The 
longest dimension of the bounding box defines the S coordinates, and the next 
longest defines the T coordinates. If two or all three dimensions of the 
bounding box are equal, ties shall be broken by choosing the X, Y, or Z 
dimension in that order of preference. The value of the S coordinate ranges from 
0 to 1, from one end of the bounding box to the other. The T coordinate ranges 
between 0 and the ratio of the second greatest dimension of the bounding box to 
the greatest dimension. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.10">Figure 
6.10</A> illustrates the default texture coordinates for a simple box shaped 
IndexedFaceSet with an X dimension twice as large as the Z dimension and four 
times as large as the Y dimension. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.11">Figure&nbsp;6.11</A> 
illustrates the original texture image used on the IndexedFaceSet used in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.10">Figure 
6.10</A>.</P>
<H4>
<CENTER><A name=Figure6.10></A><IMG height=352 
alt="IndexedFaceSet node texture mapping" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/IFStexture.gif" 
width=488 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/IFStexture.gif"><BR>Figure 6.10 
-- IndexedFaceSet texture default mapping<BR><BR><BR></CENTER></H4>
<H4>
<CENTER><A name=Figure6.11></A><IMG height=171 
alt="ImageTexture for IndexedFaceSet in Figure 6.10" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/IFStexture2.gif" 
width=362 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/IFStexture2.gif"><BR>Figure 6.11 
-- ImageTexture for IndexedFaceSet in Figure 6.10<BR><BR></CENTER></H4>
<P>Subclause <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.3">4.6.3, 
Shapes and geometry</A>, provides a description of the <I>ccw</I>, <I>solid</I>, 
<I>convex</I>, and <I>creaseAngle</I> fields.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=IndexedLineSet></A>6.24 
IndexedLineSet</H2><PRE><B>IndexedLineSet { </B>
  eventIn       MFInt32 set_colorIndex
  eventIn       MFInt32 set_coordIndex
  exposedField  SFNode  <B>color             NULL</B>
  exposedField  SFNode  <B>coord             NULL</B>
  field         MFInt32<B> colorIndex        []</B>     # [-1,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field         SFBool  <B>colorPerVertex    TRUE</B>
  field         MFInt32<B> coordIndex        []</B>     # [-1,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>The IndexedLineSet node represents a 3D geometry formed by constructing 
polylines from 3D vertices specified in the <I>coord</I> field. IndexedLineSet 
uses the indices in its <I>coordIndex</I> field to specify the polylines by 
connecting vertices from the <I>coord</I> field. An index of "-1" indicates that 
the current polyline has ended and the next one begins. The last polyline may be 
(but does not have to be) followed by a "-1". IndexedLineSet is specified in the 
local coordinate system and is affected by the transformations of its 
ancestors.</P>
<P>The <I>coord</I> field specifies the 3D vertices of the line set and contains 
a <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Coordinate">Coordinate</A> 
node.</P>
<P>Lines are not lit, are not texture-mapped, and do not participate in 
collision detection. The width of lines is implementation dependent and each 
line segment is solid (i.e.,&nbsp;not dashed).</P>
<P>If the <I>color</I> field is not NULL, it shall contain a Color node. The 
colours are applied to the line(s) as follows:</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>If <I>colorPerVertex</I> is FALSE: 
  <OL type=1>
    <LI>If the <I>colorIndex</I> field is not empty, one colour is used for each 
    polyline of the IndexedLineSet. There shall be at least as many indices in 
    the <I>colorIndex</I> field as there are polylines in the IndexedLineSet. If 
    the greatest index in the <I>colorIndex</I> field is N, there shall be N+1 
    colours in the Color node. The <I>colorIndex</I> field shall not contain any 
    negative entries. 
    <LI>If the <I>colorIndex</I> field is empty, the colours from the Color node 
    are applied to each polyline of the IndexedLineSet in order. There shall be 
    at least as many colours in the Color node as there are polylines. </LI></OL>
  <LI>If <I>colorPerVertex</I> is TRUE: 
  <OL type=1>
    <LI>If the <I>colorIndex</I> field is not empty, colours are applied to each 
    vertex of the IndexedLineSet in exactly the same manner that the 
    <I>coordIndex</I> field is used to supply coordinates for each vertex from 
    the Coordinate node. The <I>colorIndex</I> field shall contain at least as 
    many indices as the <I>coordIndex</I> field and shall contain 
    end-of-polyline markers (-1) in exactly the same places as the 
    <I>coordIndex</I> field. If the greatest index in the <I>colorIndex</I> 
    field is N, there shall be N+1 colours in the Color node. 
    <LI>If the <I>colorIndex</I> field is empty, the <I>coordIndex</I> field is 
    used to choose colours from the Color node. If the greatest index in the 
    <I>coordIndex</I> field is N, there shall be N+1 colours in the Color node. 
    </LI></OL></LI></OL><!--/NOEDIT-->
<P></P>
<P>If the <I>color</I> field is NULL and there is a Material defined for the 
Appearance affecting this IndexedLineSet, the <I>emissiveColor</I> of the 
Material shall be used to draw the lines. Details on lighting equations as they 
affect IndexedLineSet nodes are described in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Inline></A>6.25 Inline</H2><PRE><B>Inline { </B>
  exposedField MFString <B>url        []</B>
  field        SFVec3f  <B>bboxCenter 0 0 0     </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        SFVec3f  <B>bboxSize   -1 -1 -1  </B>#&nbsp;(0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)&nbsp;or&nbsp;-1,-1,-1
<B>}</B></PRE>
<P>The Inline node is a grouping node that reads its children data from a 
location in the World Wide Web. Exactly when its children are read and displayed 
is not defined (e.g.&nbsp;reading the children may be delayed until the Inline 
node's bounding box is visible to the viewer). The <I>url</I> field specifies 
the URL containing the children. An Inline node with an empty URL does 
nothing.</P>
<P>Each specified URL shall refer to a valid VRML file that contains a list of 
children nodes, prototypes, and routes at the top level as described in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.5">4.6.5, 
Grouping and children nodes</A>. The results are undefined if the URL refers to 
a file that is not VRML or if the VRML file contains non-children nodes at the 
top level.</P>
<P>If multiple URLs are specified, the browser may display a URL of a lower 
preference VRML file while it is obtaining, or if it is unable to obtain, the 
higher preference VRML file. Details on the <I>url</I> field and preference 
order can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.5">4.5,&nbsp;VRML&nbsp;and&nbsp;the&nbsp;World&nbsp;Wide&nbsp;Web</A>.</P>
<P>The results are undefined if the contents of the URL change after it has been 
loaded.</P>
<P>The <I>bboxCenter</I> and <I>bboxSize</I> fields specify a bounding box that 
encloses the Inline node's children. This is a hint that may be used for 
optimization purposes. The results are undefined if the specified bounding box 
is smaller than the actual bounding box of the children at any time. A default 
<I>bboxSize</I> value, (-1,&nbsp;-1,&nbsp;-1), implies that the bounding box is 
not specified and if needed shall be calculated by the browser. A description of 
the <I>bboxCenter</I> and <I>bboxSize</I> fields is in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.4">4.6.4,&nbsp;Bounding&nbsp;boxes</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=LOD></A>6.26 LOD</H2><PRE><B>LOD { </B>
  exposedField MFNode  <B>level    []</B> 
  field        SFVec3f <B>center   0 0 0    </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        MFFloat <B>range    []       </B>#&nbsp;(0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>The LOD node specifies various levels of detail or complexity for a given 
object, and provides hints allowing browsers to automatically choose the 
appropriate version of the object based on the distance from the user. The 
<I>level</I> field contains a list of nodes that represent the same object or 
objects at varying levels of detail, ordered from highest level of detail to the 
lowest level of detail. The <I>range</I> field specifies the ideal distances at 
which to switch between the levels. Subclause <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.5">4.6.5,&nbsp;Grouping&nbsp;and&nbsp;children&nbsp;nodes</A>, 
contains details on the types of nodes that are legal values for 
<I>level</I>.</P>
<P>The <I>center</I> field is a translation offset in the local coordinate 
system that specifies the centre of the LOD node for distance calculations.</P>
<P>The number of nodes in the <I>level</I> field shall exceed the number of 
values in the <I>range</I> field by one (i.e.,&nbsp;N+1 <I>level</I> values for 
N <I>range</I> values). The <I>range</I> field contains monotonic increasing 
values that shall be greater than zero. In order to calculate which level to 
display, first the distance is calculated from the viewer's location, 
transformed into the local coordinate system of the LOD node (including any 
scaling transformations), to the <I>center</I> point of the LOD node. Then, the 
LOD node evaluates the step function <I>L(d)</I> to choose a level for a given 
value of <I>d</I> (where <I>d</I> is the distance from the viewer position to 
the centre of the LOD node).</P>
<P>Let <I>n</I> ranges, <I>R</I><SUB><I>0</I></SUB>, 
<I>R</I><SUB><I>1</I></SUB>, <I>R</I><SUB><I>2</I></SUB>, ..., 
<I>R</I><SUB><I>n</I>-1</SUB>, partition the domain (0,&nbsp;+<I>infinity</I>) 
into <I>n</I>+1 subintervals given by (0,&nbsp;<I>R</I><SUB><I>0</I></SUB>), 
[<I>R</I><SUB><I>0</I></SUB>,&nbsp;<I>R</I><SUB><I>1</I></SUB>)... , 
[<I>R</I><SUB><I>n</I>-1</SUB>,&nbsp;+<I>infinity</I>). Also, let <I>n</I> 
levels <I>L</I><SUB><I>0</I></SUB>,<I> L</I><SUB><I>1</I></SUB>, 
<I>L</I><SUB><I>2</I></SUB>, ..., <I>L</I><SUB><I>n</I>-1</SUB> be the values of 
the step function function <I>L(d)</I>. The level node, <I>L(d),</I> for a given 
distance <I>d</I> is defined as follows:</P><PRE>    L(d) = L<SUB>0</SUB>,   if d &lt; R<SUB>0</SUB>,
         = L<SUB>i+1</SUB>, if R<SUB>i</SUB> &lt;= d &lt; R<SUB>i+1</SUB>, for -1&nbsp;&lt;&nbsp;i &lt;&nbsp;n-1,
         = L<SUB>n-1</SUB>, if d &gt;= R<SUB>n-1</SUB>.</PRE>
<P>Specifying too few levels will result in the last level being used repeatedly 
for the lowest levels of detail. If more levels than ranges are specified, the 
extra levels are ignored. An empty range field is an exception to this rule. 
This case is a hint to the browser that it may choose a level automatically to 
maintain a constant display rate. Each value in the <I>range</I> field shall be 
greater than the previous value.</P>
<P>LOD nodes are evaluated top-down in the scene graph. Only the descendants of 
the currently selected level are rendered. All nodes under an LOD node continue 
to receive and send events regardless of which LOD node's <I>level</I> is 
active. For example, if an active TimeSensor node is contained within an 
inactive level of an LOD node, the TimeSensor node sends events regardless of 
the LOD node's state.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Material></A>6.27 Material</H2><PRE><B>Material { </B>
  exposedField SFFloat <B>ambientIntensity  0.2         </B>#&nbsp;[0,1]
  exposedField SFColor <B>diffuseColor      0.8 0.8 0.8 </B>#&nbsp;[0,1]
  exposedField SFColor <B>emissiveColor     0 0 0       </B>#&nbsp;[0,1]
  exposedField SFFloat <B>shininess         0.2         </B>#&nbsp;[0,1]
  exposedField SFColor <B>specularColor     0 0 0       </B>#&nbsp;[0,1]
  exposedField SFFloat <B>transparency      0           </B>#&nbsp;[0,1]
<B>}</B></PRE>
<P>The Material node specifies surface material properties for associated 
geometry nodes and is used by the VRML lighting equations during rendering. 
Subclause <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>, contains a detailed description of the VRML lighting model 
equations.</P>
<P>All of the fields in the Material node range from 0.0 to 1.0.</P>
<P>The fields in the Material node determine how light reflects off an object to 
create colour:</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>The <I>ambientIntensity</I> field specifies how much ambient light from 
  light sources this surface shall reflect. Ambient light is omnidirectional and 
  depends only on the number of light sources, not their positions with respect 
  to the surface. Ambient colour is calculated as 
  <I>ambientIntensity&nbsp;</I>&nbsp;<I>diffuseColor</I>. 
  <LI>The <I>diffuseColor</I> field reflects all VRML light sources depending on 
  the angle of the surface with respect to the light source. The more directly 
  the surface faces the light, the more diffuse light reflects. 
  <LI>The <I>emissiveColor</I> field models "glowing" objects. This can be 
  useful for displaying pre-lit models (where the light energy of the room is 
  computed explicitly), or for displaying scientific data. 
  <LI>The <I>specularColor</I> and <I>shininess</I> fields determine the 
  specular highlights (e.g.,&nbsp;the shiny spots on an apple). When the angle 
  from the light to the surface is close to the angle from the surface to the 
  viewer, the <I>specularColor</I> is added to the diffuse and ambient colour 
  calculations. Lower shininess values produce soft glows, while higher values 
  result in sharper, smaller highlights. 
  <LI>The <I>transparency </I>field specifies how "clear" an object is, with 1.0 
  being completely transparent, and 0.0 completely opaque. </LI></OL><!--/NOEDIT-->
<P></P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=MovieTexture></A>6.28 MovieTexture</H2><PRE><B>MovieTexture { </B>
  exposedField SFBool   <B>loop</B>             <B>FALSE</B>
  exposedField SFFloat  <B>speed</B>            <B>1.0      </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFTime   <B>startTime</B>        <B>0        </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFTime   <B>stopTime</B>         <B>0        </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFString <B>url</B>              <B>[]</B>
  field        SFBool   <B>repeatS          TRUE</B>
  field        SFBool   <B>repeatT          TRUE</B>
  eventOut     SFTime   duration_changed
  eventOut     SFBool   isActive
<B>}</B></PRE>
<P>The MovieTexture node defines a time dependent texture map (contained in a 
movie file) and parameters for controlling the movie and the texture mapping. A 
MovieTexture node can also be used as the source of sound data for a <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Sound">Sound</A> 
node. In this special case, the MovieTexture node is not used for rendering.</P>
<P>Texture maps are defined in a 2D coordinate system (s,&nbsp;t) that ranges 
from 0.0 to 1.0 in both directions. The bottom edge of the image corresponds to 
the S-axis of the texture map, and left edge of the image corresponds to the 
T-axis of the texture map. The lower-left pixel of the image corresponds to 
s=0.0, t=0.0, and the top-right pixel of the image corresponds to s=1.0, t=1.0. 
<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.12">Figure 
6.12</A> depicts the texture map coordinate system of the MovieTexture.</P>
<P>
<CENTER><A name=Figure6.12></A><IMG height=228 alt="MovieTexture node" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/ImageTexture.gif" 
width=413 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/ImageTexture.gif" 
SGI_HEIGHT_UNFIXED SGI_WIDTH_UNFIXED></CENTER>
<P></P>
<H4>
<CENTER>Figure 6.12 -- MovieTexture node coordinate system</CENTER></H4>
<P>The <I>url</I> field that defines the movie data shall support MPEG1-Systems 
(audio and video) or MPEG1-Video (video-only) movie file formats <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[MPEG]">2.[MPEG]</A>. 
Details on the <I>url</I> field can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.5">4.5,&nbsp;VRML&nbsp;and&nbsp;the&nbsp;World&nbsp;Wide&nbsp;Web</A>.</P>
<P>MovieTexture nodes can be referenced by an Appearance node's <I>texture</I> 
field (as a movie texture) and by a Sound node's <I>source</I> field (as an 
audio source only).</P>
<P>See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.11">4.6.11, 
Texture maps</A>, for a general description of texture maps.</P>
<P><A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>, contains details on lighting equations and the interaction 
between textures, materials, and geometries.</P>
<P>As soon as the movie is loaded, a <I>duration_changed</I> eventOut is sent. 
This indicates the duration of the movie in seconds. This eventOut value can be 
read (for instance, by a Script node) to determine the duration of a movie. A 
value of "-1" implies the movie has not yet loaded or the value is unavailable 
for some reason.</P>
<P>The <I>loop, startTime,</I> and <I>stopTime</I> exposedFields and the 
<I>isActive</I> eventOut, and their effects on the MovieTexture node, are 
discussed in detail in the <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.9">4.6.9,&nbsp;Time-dependent 
nodes</A>, section. The cycle<I> </I>of a MovieTexture node is the length of 
time in seconds for one playing of the movie at the specified <I>speed</I>.</P>
<P>The <I>speed</I> exposedField indicates how fast the movie shall be played. A 
<I>speed</I> of 2 indicates the movie plays twice as fast. The 
<I>duration_changed</I> output is not affected by the <I>speed</I> exposedField. 
<I>set_speed</I> events are ignored while the movie is playing. A negative 
<I>speed</I> implies that the movie will play backwards.</P>
<P>If a MovieTexture node is inactive when the movie is first loaded, frame 0 of 
the movie texture is displayed if <I>speed</I> is non-negative or the last frame 
of the movie texture is shown if <I>speed</I> is negative (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.11.3">4.11.3, 
Discrete and continuous changes</A>). A MovieTexture node shall display frame 0 
if <I>speed</I> = 0. For positive values of <I>speed</I>, an active MovieTexture 
node displays the frame at movie time <I>t</I> as follows (i.e.,&nbsp;in the 
movie's local time system with frame 0 at time 0 with <I>speed</I> = 1):</P><PRE>    t = (now - startTime) modulo (<TT>duration</TT>/speed)</PRE>
<P>If <I>speed</I> is negative, the MovieTexture node displays the frame at 
movie time:</P><PRE><TT>    t = duration</TT> - ((now - startTime) modulo |<TT>duration</TT>/speed|)</PRE>
<P>When a MovieTexture node becomes inactive, the frame corresponding to the 
time at which the MovieTexture became inactive will remain as the texture.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=NavigationInfo></A>6.29 
NavigationInfo</H2><PRE><B>NavigationInfo { </B>
  eventIn      SFBool   set_bind
  exposedField MFFloat <B> avatarSize      [0.25, 1.6, 0.75] </B>#&nbsp;[0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFBool   <B>headlight       TRUE</B>
  exposedField SFFloat  <B>speed           1.0</B>               #&nbsp;[0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFString<B> type            ["WALK", "ANY"]</B>
  exposedField SFFloat  <B>visibilityLimit 0.0               </B>#&nbsp;[0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  eventOut     SFBool   isBound
<B>}</B></PRE>
<P>The NavigationInfo node contains information describing the physical 
characteristics of the viewer's avatar and viewing model. NavigationInfo node is 
a bindable node (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.10">4.6.10,&nbsp;Bindable&nbsp;children&nbsp;nodes</A><I>)</I>. 
Thus, there exists a NavigationInfo node stack in which the top-most 
NavigationInfo node on the stack is the currently bound NavigationInfo node. The 
current NavigationInfo node is considered to be a child of the current Viewpoint 
node regardless of where it is initially located in the VRML file. Whenever the 
current Viewpoint nodes changes, the current NavigationInfo node shall be 
re-parented to it by the browser. Whenever the current NavigationInfo node 
changes, the new NavigationInfo node shall be re-parented to the current 
Viewpoint node by the browser.</P>
<P>If a TRUE value is sent to the <I>set_bind</I> eventIn of a NavigationInfo 
node, the node is pushed onto the top of the NavigationInfo node stack. When a 
NavigationInfo node is bound, the browser uses the fields of the NavigationInfo 
node to set the navigation controls of its user interface and the NavigationInfo 
node is conceptually re-parented under the currently bound Viewpoint node. All 
subsequent scaling changes to the current <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Viewpoint">Viewpoint</A> 
node's coordinate system automatically change aspects (see below) of the 
NavigationInfo node values used in the browser (e.g.,&nbsp;scale changes to any 
ancestors' transformations). A FALSE value sent to <I>set_bind</I> pops the 
NavigationInfo node from the stack, results in an <I>isBound </I>FALSE event, 
and pops to the next entry in the stack which shall be re-parented to the 
current Viewpoint node. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.10">4.6.10,&nbsp;Bindable 
children nodes</A>, has more details on binding stacks.</P>
<P>The <I>type</I> field specifies an ordered list of navigation paradigms that 
specify a combination of navigation types and the initial navigation type. The 
navigation type of the currently bound NavigationInfo node determines the user 
interface capabilities of the browser. For example, if the currently bound 
NavigationInfo node's <I>type</I> is "WALK", the browser shall present a WALK 
navigation user interface paradigm (see below for description of WALK). Browsers 
shall recognize and support at least the following navigation types: "ANY", 
"WALK", "EXAMINE", "FLY", and "NONE".</P>
<P>If "ANY" does not appear in the <I>type</I> field list of the currently bound 
NavigationInfo, the browser's navigation user interface shall be restricted to 
the recognized navigation types specified in the list. In this case, browsers 
shall not present a user interface that allows the navigation type to be changed 
to a type not specified in the list. However, if any one of the values in the 
<I>type</I> field are "ANY", the browser may provide any type of navigation 
interface, and allow the user to change the navigation type dynamically. 
Furthermore, the first recognized type in the list shall be the initial 
navigation type presented by the browser's user interface.</P>
<P>ANY navigation specifies that the browser may choose the navigation paradigm 
that best suits the content and provide a user interface to allow the user to 
change the navigation paradigm dynamically. The results are undefined if the 
currently bound NavigationInfo's <I>type</I> value is "ANY" and Viewpoint 
transitions (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Viewpoint">6.53,&nbsp;Viewpoint</A>) 
are triggered by the Anchor node (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Anchor">6.2,&nbsp;Anchor</A>) 
or the <TT>loadURL()</TT>scripting method (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.12.10">4.12.10,&nbsp;Browser&nbsp;script&nbsp;interface</A>).</P>
<P>WALK navigation is used for exploring a virtual world on foot or in a vehicle 
that rests on or hovers above the ground. It is strongly recommended that WALK 
navigation define the up vector in the +Y direction and provide some form of 
terrain following and gravity in order to produce a walking or driving 
experience. If the bound NavigationInfo's <I>type</I> is "WALK", the browser 
shall strictly support collision detection (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Collision">6.8,&nbsp;Collision</A>).</P>
<P>FLY navigation is similar to WALK except that terrain following and gravity 
may be disabled or ignored. There shall still be some notion of "up" however. If 
the bound NavigationInfo's <I>type</I> is "FLY", the browser shall strictly 
support collision detection (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Collision">6.8,&nbsp;Collision</A>).</P>
<P>EXAMINE navigation is used for viewing individual objects and often includes 
(but does not require) the ability to spin around the object and move the viewer 
closer or further away.</P>
<P>NONE navigation disables and removes all browser-specific navigation user 
interface forcing the user to navigate using only mechanisms provided in the 
scene, such as Anchor nodes or scripts that include <TT>loadURL()</TT>.</P>
<P>If the NavigationInfo type is "WALK", "FLY", "EXAMINE", or "NONE" or a 
combination of these types (i.e., "ANY" is not in the list), Viewpoint 
transitions (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Viewpoint">6.53,&nbsp;Viewpoint</A>) 
triggered by the Anchor node (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Anchor">6.2,&nbsp;Anchor</A>) 
or the <TT>loadURL()</TT>scripting method (see&nbsp;<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.12.10">4.12.10,&nbsp;Browser&nbsp;script&nbsp;interface</A>) 
shall be implemented as a jump cut from the old Viewpoint to the new Viewpoint 
with transition effects that shall not trigger events besides the exit and enter 
events caused by the jump.</P>
<P>Browsers may create browser-specific navigation type extensions. It is 
recommended that extended <I>type</I> names include a unique suffix 
(e.g.,&nbsp;HELICOPTER_mydomain.com) to prevent conflicts. Viewpoint transitions 
(see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Viewpoint">6.53,&nbsp;Viewpoint</A>) 
triggered by the Anchor node (see&nbsp;<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Anchor">6.2,&nbsp;Anchor</A>) 
or the <TT>loadURL()</TT>scripting method (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.12.10">4.12.10,&nbsp;Browser&nbsp;script&nbsp;interface</A>) 
are undefined for extended navigation types. If none of the types are recognized 
by the browser, the default "ANY" is used. These strings values are case 
sensitive ("any" is not equal to "ANY").</P>
<P>The <I>speed</I> field specifies the rate at which the viewer travels through 
a scene in metres per second. Since browsers may provide mechanisms to travel 
faster or slower, this field specifies the default, average speed of the viewer 
when the NavigationInfo node is bound. If the NavigationInfo <I>type</I> is 
EXAMINE, <I>speed</I> shall not affect the viewer's rotational speed. Scaling in 
the transformation hierarchy of the currently bound <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Viewpoint">Viewpoint</A> 
node (see above) scales the <I>speed</I>; parent translation and rotation 
transformations have no effect on <I>speed</I>. Speed shall be non-negative. 
Zero speed indicates that the avatar's position is stationary, but its 
orientation and field of view may still change. If the navigation <I>type</I> is 
"NONE", the <I>speed</I> field has no effect.</P>
<P>The <I>avatarSize</I> field specifies the user's physical dimensions in the 
world for the purpose of collision detection and terrain following. It is a 
multi-value field allowing several dimensions to be specified. The first value 
shall be the allowable distance between the user's position and any collision 
geometry (as specified by a <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Collision">Collision</A> 
node ) before a collision is detected. The second shall be the height above the 
terrain at which the browser shall maintain the viewer. The third shall be the 
height of the tallest object over which the viewer can move. This allows 
staircases to be built with dimensions that can be ascended by viewers in all 
browsers. The transformation hierarchy of the currently bound <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Viewpoint">Viewpoint</A> 
node scales the <I>avatarSize</I>. Translations and rotations have no effect on 
<I>avatarSize</I>.</P>
<P>For purposes of terrain following, the browser maintains a notion of the 
<I>down</I> direction (down vector), since gravity is applied in the direction 
of the down vector. This down vector shall be along the negative Y-axis in the 
local coordinate system of the currently bound Viewpoint node (i.e.,&nbsp;the 
accumulation of the Viewpoint node's ancestors' transformations, not including 
the Viewpoint node's <I>orientation</I> field).</P>
<P>Geometry beyond the visibilityLimit may not be rendered. A value of 0.0 
indicates an infinite visibility limit. The <I>visibilityLimit</I> field is 
restricted to be greater than or equal to zero.</P>
<P>The <I>speed</I>, <I>avatarSize</I> and <I>visibilityLimit</I> values are all 
scaled by the transformation being applied to the currently bound <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Viewpoint">Viewpoint</A> 
node. If there is no currently bound Viewpoint node, the values are interpreted 
in the world coordinate system. This allows these values to be automatically 
adjusted when binding to a Viewpoint node that has a scaling transformation 
applied to it without requiring a new NavigationInfo node to be bound as well. 
The results are undefined if the scale applied to the Viewpoint node is 
non-uniform.</P>
<P>The <I>headlight</I> field specifies whether a browser shall turn on a 
headlight. A headlight is a directional light that always points in the 
direction the user is looking. Setting this field to TRUE allows the browser to 
provide a headlight, possibly with user interface controls to turn it on and 
off. Scenes that enlist precomputed lighting (e.g.,&nbsp;radiosity solutions) 
can turn the headlight off. The headlight shall have 
<I>intensity&nbsp;</I>=&nbsp;1, <I>color</I> =&nbsp;(1&nbsp;1&nbsp;1), 
<I>ambientIntensity&nbsp;</I>=&nbsp;0.0, and 
<I>direction&nbsp;</I>=&nbsp;(0&nbsp;0&nbsp;-1).</P>
<P>It is recommended that the near clipping plane be set to one-half of the 
collision radius as specified in the <I>avatarSize</I> field (setting the near 
plane to this value prevents excessive clipping of objects just above the 
collision volume, and also provides a region inside the collision volume for 
content authors to include geometry intended to remain fixed relative to the 
viewer). Such geometry shall not be occluded by geometry outside of the 
collision volume.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Normal></A>6.30 Normal</H2><PRE><B>Normal { </B>
  exposedField MFVec3f <B>vector  []   </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>This node defines a set of 3D surface normal vectors to be used in the 
<I>vector</I> field of some geometry nodes (e.g.,&nbsp;IndexedFaceSet and 
ElevationGrid). This node contains one multiple-valued field that contains the 
normal vectors. Normals shall be of unit length.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=NormalInterpolator></A>6.31 
NormalInterpolator</H2><PRE><B>NormalInterpolator { </B>
  eventIn      SFFloat set_fraction       #&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFFloat <B>key           []   </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFVec3f <B>keyValue</B> <B>     []   </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  eventOut     MFVec3f value_changed
<B>}</B></PRE>
<P>The NormalInterpolator node interpolates among a list of normal vector sets 
specified by the <I>keyValue</I> field. The output vector, <I>value_changed</I>, 
shall be a set of normalized vectors.</P>
<P>Values in the <I>keyValue</I> field shall be of unit length. The number of 
normals in the <I>keyValue</I> field shall be an integer multiple of the number 
of keyframes in the <I>key</I> field. That integer multiple defines how many 
normals will be contained in the <I>value_changed </I>events.</P>
<P>Normal interpolation shall be performed on the surface of the unit sphere. 
That is, the output values for a linear interpolation from a point P on the unit 
sphere to a point Q also on the unit sphere shall lie along the shortest arc (on 
the unit sphere) connecting points P and Q. Also, equally spaced input fractions 
shall result in arcs of equal length. The results are undefined if P and Q are 
diagonally opposite.</P>
<P>A more detailed discussion of interpolators is provided in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.8">4.6.8, 
Interpolator nodes</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=OrientationInterpolator></A>6.32 
OrientationInterpolator</H2><PRE><B>OrientationInterpolator { </B>
  eventIn      SFFloat    set_fraction      #&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFFloat    <B>key           []  </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFRotation <B>keyValue      []  </B># [-1,1],(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  eventOut     SFRotation value_changed
<B>}</B></PRE>
<P>The OrientationInterpolator node interpolates among a list of rotation values 
specified in the <I>keyValue</I> field. These rotations are absolute in object 
space and therefore are not cumulative. The <I>keyValue</I> field shall contain 
exactly as many rotations as there are keyframes in the <I>key</I> field.</P>
<P>An orientation represents the final position of an object after a rotation 
has been applied. An OrientationInterpolator interpolates between two 
orientations by computing the shortest path on the unit sphere between the two 
orientations. The interpolation is linear in arc length along this path. The 
results are undefined if the two orientations are diagonally opposite.</P>
<P>If two consecutive <I>keyValue </I>values exist such that the arc length 
between them is greater than <IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=bottom NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">, the interpolation will 
take place on the arc complement. For example, the interpolation between the 
orientations (0, 1, 0, 0) and (0, 1, 0, 5.0) is equivalent to the rotation 
between the orientations (0, 1, 0, 2<IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=bottom NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">) and (0, 1, 0, 5.0).</P>
<P>A more detailed discussion of interpolators is contained in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.8">4.6.8, 
Interpolator nodes</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=PixelTexture></A>6.33 PixelTexture</H2><PRE><B>PixelTexture { </B>
<B>  </B>exposedField SFImage  <B>image      0 0 0    </B># see <A href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/fieldsRef.html#SFImage">5.5, SFImage</A>
<B> </B> field        SFBool   <B>repeatS    TRUE</B>
<B>  </B>field        SFBool   <B>repeatT    TRUE</B>
<B>}</B></PRE>
<P>The PixelTexture node defines a 2D image-based texture map as an explicit 
array of pixel values (<I>image</I> field) and parameters controlling tiling 
repetition of the texture onto geometry.</P>
<P>Texture maps are defined in a 2D coordinate system (s,&nbsp;t) that ranges 
from 0.0 to 1.0 in both directions. The bottom edge of the pixel image 
corresponds to the S-axis of the texture map, and left edge of the pixel image 
corresponds to the T-axis of the texture map. The lower-left pixel of the pixel 
image corresponds to s=0.0, t=0.0, and the top-right pixel of the image 
corresponds to s&nbsp;=&nbsp;1.0, t&nbsp;=&nbsp;1.0.</P>
<P>See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.11">4.6.11, 
Texture maps</A>, for a general description of texture maps. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.13">Figure 
6.13</A> depicts an example PixelTexture.</P>
<H4>
<CENTER><A name=Figure6.13></A><IMG height=228 alt="PixelTexture node" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/ImageTexture.gif" 
width=413 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/ImageTexture.gif" 
SGI_HEIGHT_UNFIXED SGI_WIDTH_UNFIXED><BR>Figure 6.13 -- PixelTexture 
node<BR></CENTER></H4>
<P>See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14 
,Lighting model</A>, for a description of how the texture values interact with 
the appearance of the geometry. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/fieldsRef.html#SFImage">5.5, 
SFImage</A>, describes the specification of an image.</P>
<P>The <I>repeatS</I> and <I>repeatT</I> fields specify how the texture wraps in 
the S and T directions. If <I>repeatS</I> is TRUE (the default), the texture map 
is repeated outside the 0-to-1 texture coordinate range in the S direction so 
that it fills the shape. If <I>repeatS</I> is FALSE, the texture coordinates are 
clamped in the S direction to lie within the 0.0 to 1.0 range. The 
<I>repeatT</I> field is analogous to the <I>repeatS</I> field.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=PlaneSensor></A>6.34 PlaneSensor</H2><PRE><B>PlaneSensor { </B>
  exposedField SFBool  <B>autoOffset</B>          <B>TRUE</B>
  exposedField SFBool  <B>enabled             TRUE</B>
  exposedField SFVec2f<B> maxPosition         -1 -1     </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFVec2f<B> minPosition         0 0       </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFVec3f <B>offset</B>              <B>0 0 0     </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  eventOut     SFBool  isActive
  eventOut     SFVec3f trackPoint_changed
  eventOut     SFVec3f translation_changed
<B>}</B></PRE>
<P>The PlaneSensor node maps pointing device motion into two-dimensional 
translation in a plane parallel to the Z=0 plane of the local coordinate system. 
The PlaneSensor node uses the descendent geometry of its parent node to 
determine whether it is liable to generate events.</P>
<P>The <I>enabled</I> exposedField enables and disables the PlaneSensor. If 
<I>enabled</I> is TRUE, the sensor reacts appropriately to user events. If 
<I>enabled</I> is FALSE, the sensor does not track user input or send events. If 
<I>enabled</I> receives a FALSE event and <I>isActive</I> is TRUE, the sensor 
becomes disabled and deactivated, and outputs an <I>isActive</I> FALSE event. If 
<I>enabled</I> receives a TRUE event, the sensor is enabled and made ready for 
user activation.</P>
<P>The PlaneSensor node generates events when the pointing device is activated 
while the pointer is indicating any descendent geometry nodes of the sensor's 
parent group. See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.5">4.6.7.5, 
Activating and manipulating sensors</A>, for details on using the pointing 
device to activate the PlaneSensor.</P>
<P>Upon activation of the pointing device (e.g.,&nbsp;mouse button down) while 
indicating the sensor's geometry, an <I>isActive</I> TRUE event is sent. Pointer 
motion is mapped into relative translation in the <I>tracking plane</I>, (a 
plane parallel to the sensor's local Z=0 plane and coincident with the initial 
point of intersection). For each subsequent movement of the bearing, a 
<I>translation_changed</I> event is output which corresponds to the sum of the 
relative translation from the original intersection point to the intersection 
point of the new bearing in the plane plus the <I>offset</I> value. The sign of 
the translation is defined by the Z=0 plane of the sensor's coordinate system. 
<I>trackPoint_changed</I> events reflect the unclamped drag position on the 
surface of this plane. When the pointing device is deactivated and 
<I>autoOffset</I> is TRUE, <I>offset</I> is set to the last 
<I>translation_changed</I> value and an <I>offset_changed</I> event is 
generated. More details are provided in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.4">4.6.7.4, 
Drag sensors</A>.</P>
<P>When the sensor generates an <I>isActive</I> TRUE event, it grabs all further 
motion events from the pointing device until it is deactivated and generates an 
<I>isActive</I> FALSE event. Other pointing-device sensors shall not generate 
events during this time. Motion of the pointing device while <I>isActive</I> is 
TRUE is referred to as a "drag." If a 2D pointing device is in use, 
<I>isActive</I> events typically reflect the state of the primary button 
associated with the device (i.e.,&nbsp;<I>isActive</I> is TRUE when the primary 
button is pressed, and is FALSE when it is released). If a 3D pointing device 
(e.g.,&nbsp;wand) is in use, <I>isActive</I> events typically reflect whether 
the pointer is within or in contact with the sensor's geometry.</P>
<P><I>minPosition</I> and <I>maxPosition</I> may be set to clamp 
<I>translation_changed</I> events to a range of values as measured from the 
origin of the Z=0 plane. If the X or Y component of <I>minPosition</I> is 
greater than the corresponding component of <I>maxPosition</I>, 
<I>translation_changed</I> events are not clamped in that dimension. If the X or 
Y component of <I>minPosition</I> is equal to the corresponding component of 
<I>maxPosition</I>, that component is constrained to the given value. This 
technique provides a way to implement a line sensor that maps dragging motion 
into a translation in one dimension.</P>
<P>While the pointing device is activated and moved,<I> trackPoint_changed</I> 
and <I>translation_changed</I> events are sent. <I>trackPoint_changed</I> events 
represent the unclamped intersection points on the surface of the tracking 
plane. If the pointing device is dragged off of the tracking plane while 
activated (e.g.,&nbsp;above horizon line), browsers may interpret this in a 
variety ways (e.g., clamp all values to the horizon). Each movement of the 
pointing device, while <I>isActive</I> is TRUE, generates 
<I>trackPoint_changed</I> and <I>translation_changed</I> events.</P>
<P>Further information about this behaviour can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.3">4.6.7.3, 
Pointing-device sensors</A>, <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.4">4.6.7.4, 
Drag sensors</A>, and <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.5">4.6.7.5, 
Activating and manipulating sensors</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=PointLight></A>6.35 PointLight</H2><PRE><B>PointLight { </B>
  exposedField SFFloat <B>ambientIntensity  0</B>       # [0,1]
  exposedField SFVec3f <B>attenuation       1 0 0</B>   # [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFColor <B>color             1 1 1 </B>  # [0,1]
  exposedField SFFloat <B>intensity         1</B>       # [0,1]
  exposedField SFVec3f <B>location          0 0 0</B>   # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFBool  <B>on                TRUE</B> 
  exposedField SFFloat <B>radius            100</B>     # [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>The PointLight node specifies a point light source at a 3D location in the 
local coordinate system. A point light source emits light equally in all 
directions; that is, it is omnidirectional. PointLight nodes are specified in 
the local coordinate system and are affected by ancestor transformations.</P>
<P>Subclause <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.6">4.6.6, 
Light sources</A>, contains a detailed description of the 
<I>ambientIntensity</I>, <I>color</I>, and <I>intensity</I> fields.</P>
<P>A PointLight node illuminates geometry within <I>radius</I> metres of its 
<I>location</I>. Both radius and location are affected by ancestors' 
transformations (scales affect <I>radius</I> and transformations affect 
<I>location</I>). The <I>radius</I> field shall be greater than or equal to 
zero.</P>
<P>PointLight node's illumination falls off with distance as specified by three 
<I>attenuation</I> coefficients. The attenuation factor is 
<I>1/max(attenuation[0]&nbsp;+&nbsp;attenuation[1]</I><I>r&nbsp;+&nbsp;attenuation[2]</I><I>r</I><SUP><I>2</I></SUP><I>,&nbsp;1)</I>, 
where <I>r</I> is the distance from the light to the surface being illuminated. 
The default is no attenuation. An <I>attenuation</I> value of (0, 0, 0) is 
identical to (1, 0, 0). Attenuation values shall be greater than or equal to 
zero. A detailed description of VRML's lighting equations is contained in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=PointSet></A>6.36 PointSet</H2><PRE><B>PointSet { </B>
  exposedField  SFNode  <B>color      NULL</B>
  exposedField  SFNode  <B>coord      NULL</B>
<B>}</B></PRE>
<P>The PointSet node specifies a set of 3D points, in the local coordinate 
system, with associated colours at each point. The <I>coord</I> field specifies 
a <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Coordinate">Coordinate</A> 
node (or instance of a Coordinate node). The results are undefined if the 
<I>coord</I> field specifies any other type of node. PointSet uses the 
coordinates in order. If the <I>coord</I> field is NULL, the point set is 
considered empty.</P>
<P>PointSet nodes are not lit, not texture-mapped, nor do they participate in 
collision detection. The size of each point is implementation-dependent.</P>
<P>If the <I>color</I> field is not NULL, it shall specify a <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Color">Color</A> 
node that contains at least the number of points contained in the <I>coord</I> 
node. The results are undefined if the <I>color</I> field specifies any other 
type of node. Colours shall be applied to each point in order. The results are 
undefined if the number of values in the Color node is less than the number of 
values specified in the Coordinate node.</P>
<P>If the <I>color</I> field is NULL and there is a Material node defined for 
the Appearance node affecting this PointSet node, the <I>emissiveColor</I> of 
the Material node shall be used to draw the points. More details on lighting 
equations can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=PositionInterpolator></A>6.37 
PositionInterpolator</H2><PRE><B>PositionInterpolator { </B>
  eventIn      SFFloat set_fraction        # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFFloat <B>key           []    </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFVec3f <B>keyValue      []    </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  eventOut     SFVec3f value_changed
<B>}</B></PRE>
<P>The PositionInterpolator node linearly interpolates among a list of 3D 
vectors. The <I>keyValue</I> field shall contain exactly as many values as in 
the <I>key</I> field.</P>
<P><A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.8">4.6.8, 
Interpolator nodes</A>, contains a more detailed discussion of 
interpolators.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=ProximitySensor></A>6.38 
ProximitySensor</H2><PRE><B>ProximitySensor { </B>
  exposedField SFVec3f    <B>center      0 0 0    </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFVec3f    <B>size        0 0 0    </B># [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFBool     <B>enabled     TRUE</B>
  eventOut     SFBool     isActive
  eventOut     SFVec3f    position_changed
  eventOut     SFRotation orientation_changed
  eventOut     SFTime     enterTime
  eventOut     SFTime     exitTime
<B>}</B></PRE>
<P>The ProximitySensor node generates events when the viewer enters, exits, and 
moves within a region in space (defined by a box). A proximity sensor is enabled 
or disabled by sending it an <I>enabled</I> event with a value of TRUE or FALSE. 
A disabled sensor does not send events.</P>
<P>A ProximitySensor node generates <I>isActive</I> TRUE/FALSE events as the 
viewer enters and exits the rectangular box defined by its <I>center</I> and 
<I>size</I> fields. Browsers shall interpolate viewer positions and timestamp 
the <I>isActive</I> events with the exact time the viewer first intersected the 
proximity region. The <I>center</I> field defines the centre point of the 
proximity region in object space. The <I>size</I> field specifies a vector which 
defines the width (x), height (y), and depth (z) of the box bounding the region. 
The components of the <I>size</I> field shall be greater than or equal to zero. 
ProximitySensor nodes are affected by the hierarchical transformations of their 
parents.</P>
<P>The <I>enterTime</I> event is generated whenever the <I>isActive</I> TRUE 
event is generated (user enters the box), and <I>exitTime</I> events are 
generated whenever an <I>isActive</I> FALSE event is generated (user exits the 
box).</P>
<P>The <I>position_changed</I> and <I>orientation_changed</I> eventOuts send 
events whenever the user is contained within the proximity region and the 
position and orientation of the viewer changes with respect to the 
ProximitySensor node's coordinate system including enter and exit times. The 
viewer movement may be a result of a variety of circumstances resulting from 
browser navigation, ProximitySensor node's coordinate system changes, or bound 
Viewpoint node's position or orientation changes.</P>
<P>Each ProximitySensor node behaves independently of all other ProximitySensor 
nodes. Every enabled ProximitySensor node that is affected by the viewer's 
movement receives and sends events, possibly resulting in multiple 
ProximitySensor nodes receiving and sending events simultaneously. Unlike 
TouchSensor nodes, there is no notion of a ProximitySensor node lower in the 
scene graph "grabbing" events.</P>
<P>Instanced (DEF/USE) ProximitySensor nodes use the union of all the boxes to 
check for enter and exit. A multiply instanced ProximitySensor node will detect 
enter and exit for all instances of the box and send enter/exit events 
appropriately. However, the results are undefined if the any of the boxes of a 
multiply instanced ProximitySensor node overlap.</P>
<P>A ProximitySensor node that surrounds the entire world has an 
<I>enterTime</I> equal to the time that the world was entered and can be used to 
start up animations or behaviours as soon as a world is loaded. A 
ProximitySensor node with a box containing zero volume (i.e., any <I>size</I> 
field element of 0.0) cannot generate events. This is equivalent to setting the 
<I>enabled</I> field to FALSE.</P>
<P>A ProximitySensor read from a VRML file shall generate <I>isActive </I>TRUE, 
<I>position_changed</I>, <I>orientation_changed</I> and <I>enterTime</I> events 
if the sensor is enabled and the viewer is inside the proximity region. A 
ProximitySensor inserted into the transformation hierarchy shall generate 
<I>isActive </I>TRUE, <I>position_changed</I>, <I>orientation_changed</I> and 
<I>enterTime</I> events if the sensor is enabled and the viewer is inside the 
proximity region. A ProximitySensor removed from the transformation hierarchy 
shall generate <I>isActive </I>FALSE, <I>position_changed</I>, 
<I>orientation_changed</I> and <I>exitTime</I> events if the sensor is enabled 
and the viewer is inside the proximity region.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=ScalarInterpolator></A>6.39 
ScalarInterpolator</H2><PRE><B>ScalarInterpolator { </B>
  eventIn      SFFloat set_fraction      <B>   </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFFloat <B>key           []     </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFFloat <B>keyValue      []     </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  eventOut     SFFloat value_changed
<B>}</B></PRE>
<P>This node linearly interpolates among a list of SFFloat values. This 
interpolator is appropriate for any parameter defined using a single floating 
point value. Examples include width, radius, and intensity fields. The 
<I>keyValue</I> field shall contain exactly as many numbers as there are 
keyframes in the <I>key</I> field.</P>
<P>A more detailed discussion of interpolators is available in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.8">4.6.8, 
Interpolator nodes</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Script></A>6.40 Script</H2><PRE><B>Script {</B> 
  exposedField MFString <B>url           []</B> 
  field        SFBool   <B>directOutput  FALSE</B>
  field        SFBool   <B>mustEvaluate  FALSE</B>
  # <I>And any number of</I>:
<B>  eventIn      eventType eventName</B>
<B>  field        fieldType fieldName initialValue</B>
<B>  eventOut     eventType eventName</B>
<B>}</B></PRE>
<P>The Script node is used to program behaviour in a scene. Script nodes 
typically</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>signify a change or user action; 
  <LI>receive events from other nodes; 
  <LI>contain a program module that performs some computation; 
  <LI>effect change somewhere else in the scene by sending events. </LI></OL><!--/NOEDIT-->
<P></P>
<P>Each Script node has associated programming language code, referenced by the 
<I>url</I> field, that is executed to carry out the Script node's function. That 
code is referred to as the "script" in the rest of this description. Details on 
the <I>url</I> field can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.5">4.5,&nbsp;VRML&nbsp;and&nbsp;the&nbsp;World&nbsp;Wide&nbsp;Web</A>.</P>
<P>Browsers are not required to support any specific language. Detailed 
information on scripting languages is described in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.12">4.12, 
Scripting</A>. Browsers supporting a scripting language for which a language 
binding is specified shall adhere to that language binding.</P>
<P>Sometime before a script receives the first event it shall be initialized 
(any language-dependent or user-defined <CODE>initialize()</CODE> is performed). 
The script is able to receive and process events that are sent to it. Each event 
that can be received shall be declared in the Script node using the same syntax 
as is used in a prototype definition:</P><PRE>    eventIn <I>type name</I></PRE>
<P>The <I>type</I> can be any of the standard VRML fields (as defined in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/fieldsRef.html">5, 
Field and event reference</A>). <I>Name</I> shall be an identifier that is 
unique for this Script node.</P>
<P>The Script node is able to generate events in response to the incoming 
events. Each event that may be generated shall be declared in the Script node 
using the following syntax:</P><PRE>    eventOut <I>type name</I></PRE>
<P>With the exception of the <I>url </I>field<I>,</I> exposedFields are not 
allowed in Script nodes.</P>
<P>If the Script node's <I>mustEvaluate</I> field is FALSE, the browser may 
delay sending input events to the script until its outputs are needed by the 
browser. If the <I>mustEvaluate</I> field is TRUE, the browser shall send input 
events to the script as soon as possible, regardless of whether the outputs are 
needed. The <I>mustEvaluate</I> field shall be set to TRUE only if the Script 
node has effects that are not known to the browser (such as sending information 
across the network). Otherwise, poor performance may result.</P>
<P>Once the script has access to a VRML node (via an SFNode or MFNode value 
either in one of the Script node's fields or passed in as an eventIn), the 
script is able to read the contents of that node's exposed fields. If the Script 
node's <I>directOutput</I> field is TRUE, the script may also send events 
directly to any node to which it has access, and may dynamically establish or 
break routes. If <I>directOutput</I> is FALSE (the default), the script may only 
affect the rest of the world via events sent through its eventOuts. The results 
are undefined if <I>directOutput</I> is FALSE and the script sends events 
directly to a node to which it has access.</P>
<P>A script is able to communicate directly with the VRML browser to get 
information such as the current time and the current world URL. This is strictly 
defined by the API for the specific scripting language being used.</P>
<P>The location of the Script node in the scene graph has no affect on its 
operation. For example, if a parent of a Script node is a Switch node with 
<I>whichChoice</I> set to "-1" (i.e.,&nbsp;ignore its children), the Script node 
continues to operate as specified (i.e.,&nbsp;it receives and sends events).</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Shape></A>6.41 Shape</H2>
<P><B>Shape { </B></P><PRE>  exposedField SFNode <B>appearance NULL</B>
  exposedField SFNode <B>geometry   NULL</B>
<B>}</B></PRE>
<P>The Shape node has two fields, <I>appearance</I> and <I>geometry,</I> which 
are used to create rendered objects in the world. The <I>appearance</I> field 
contains an <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Appearance">Appearance</A> 
node that specifies the visual attributes (e.g.,&nbsp;material and texture) to 
be applied to the geometry. The <I>geometry</I> field contains a geometry node. 
The specified geometry node is rendered with the specified appearance nodes 
applied. See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.3">4.6.3, 
Shapes and geometry</A>, and <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Appearance">6.3,&nbsp;Appearance</A>, 
for more information.</P>
<P><A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>, contains details of the VRML lighting model and the 
interaction between Appearance nodes and geometry nodes.</P>
<P>If the <I>geometry</I> field is NULL, the object is not drawn.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Sound></A>6.42 Sound</H2><PRE><B>Sound { </B>
  exposedField SFVec3f  <B>direction     0 0 1   </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFFloat <B> intensity     1       </B># [0,1]
  exposedField SFVec3f  <B>location      0 0 0   </B># (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFFloat  <B>maxBack       10      </B># [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFFloat  <B>maxFront      10      </B># [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFFloat  <B>minBack       1       </B># [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFFloat  <B>minFront      1       </B># [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFFloat <B> priority      0       </B># [0,1]
  exposedField SFNode   <B>source        NULL</B>
  field        SFBool   <B>spatialize    TRUE</B>
<B>}</B></PRE>
<P>The Sound node specifies the spatial presentation of a sound in a VRML scene. 
The sound is located at a point in the local coordinate system and emits sound 
in an elliptical pattern (defined by two ellipsoids). The ellipsoids are 
oriented in a direction specified by the <I>direction</I> field. The shape of 
the ellipsoids may be modified to provide more or less directional focus from 
the location of the sound.</P>
<P>The <I>source</I> field specifies the sound source for the Sound node. If the 
<I>source</I> field is not specified, the Sound node will not emit audio. The 
<I>source</I> field shall specify either an AudioClip node or a MovieTexture 
node. If a MovieTexture node is specified as the sound source, the MovieTexture 
shall refer to a movie format that supports sound (e.g.,&nbsp;MPEG1-Systems, see 
<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[MPEG]">2.[MPEG]</A>).</P>
<P>The <I>intensity </I>field adjusts the loudness (decibels) of the sound 
emitted by the Sound node (note:&nbsp;this is different from the traditional 
definition of intensity with respect to sound; see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/bibliography.html#[SNDA]">E.[SNDA]</A>). 
The <I>intensity</I> field has a value that ranges from 0.0 to 1.0 and specifies 
a factor which shall be used to scale the normalized sample data of the sound 
source during playback. A Sound node with an intensity of 1.0 shall emit audio 
at its maximum loudness (before attenuation), and a Sound node with an intensity 
of 0.0 shall emit no audio. Between these values, the loudness should increase 
linearly from a -20 dB change approaching an <I>intensity</I> of 0.0 to a 0 dB 
change at an <I>intensity</I> of 1.0.</P>
<P>The <I>priority</I> field provides a hint for the browser to choose which 
sounds to play when there are more active Sound nodes than can be played at once 
due to either limited system resources or system load. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/conformance.html#7.3.4">7.3.4, 
Sound priority, attenuation, and spatialization</A>, describes a recommended 
algorithm for determining which sounds to play under such circumstances. The 
<I>priority</I> field ranges from 0.0 to 1.0, with 1.0 being the highest 
priority and 0.0 the lowest priority.</P>
<P>The <I>location</I> field determines the location of the sound emitter in the 
local coordinate system. A Sound node's output is audible only if it is part of 
the traversed scene. Sound nodes that are descended from LOD, Switch, or any 
grouping or prototype node that disables traversal (i.e.,<I>&nbsp;</I>drawing) 
of its children are not audible unless they are traversed. If a Sound node is 
disabled by a Switch or LOD node, and later it becomes part of the traversal 
again, the sound shall resume where it would have been had it been playing 
continuously.</P>
<P>The Sound node has an inner ellipsoid that defines a volume of space in which 
the maximum level of the sound is audible. Within this ellipsoid, the normalized 
sample data is scaled by the <I>intensity</I> field and there is no attenuation. 
The inner ellipsoid is defined by extending the <I>direction</I> vector through 
the <I>location</I>. The <I>minBack</I> and <I>minFront</I> fields specify 
distances behind and in front of the <I>location</I> along the <I>direction</I> 
vector respectively. The inner ellipsoid has one of its foci at <I>location</I> 
(the second focus is implicit) and intersects the <I>direction</I> vector at 
<I>minBack</I> and <I>minFront</I>.</P>
<P>The Sound node has an outer ellipsoid that defines a volume of space that 
bounds the audibility of the sound. No sound can be heard outside of this outer 
ellipsoid. The outer ellipsoid is defined by extending the <I>direction</I> 
vector through the <I>location</I>. The <I>maxBack</I> and <I>maxFront 
</I>fields specify distances behind and in front of the <I>location</I> along 
the <I>direction</I> vector respectively. The outer ellipsoid has one of its 
foci at <I>location</I> (the second focus is implicit) and intersects the 
<I>direction</I> vector at <I>maxBack</I> and <I>maxFront</I>.</P>
<P>The <I>minFront</I>, <I>maxFront</I>, <I>minBack</I>, and <I>maxBack</I> 
fields are defined in local coordinates, and shall be greater than or equal to 
zero. The <I>minBack</I> field shall be less than or equal 
to&nbsp;<I>maxBack</I>, and <I>minFront</I> shall be less than or equal 
to&nbsp;<I>maxFront.</I> The ellipsoid parameters are specified in the local 
coordinate system but the ellipsoids' geometry is affected by ancestors' 
transformations.</P>
<P>Between the two ellipsoids, there shall be a linear attenuation ramp in 
loudness, from 0 dB at the minimum ellipsoid to -20 dB at the maximum 
ellipsoid:</P><PRE>    attenuation = -20  (d' / d")</PRE>
<P>where d' is the distance along the location-to-viewer vector, measured from 
the transformed minimum ellipsoid boundary to the viewer, and d" is the distance 
along the location-to-viewer vector from the transformed minimum ellipsoid 
boundary to the transformed maximum ellipsoid boundary (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.14">Figure 
6.14</A>).</P>
<P>
<CENTER><A name=Figure6.14></A><IMG height=289 alt="Sound Node Geometry" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/Sound.gif" 
width=408 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/Sound.gif"></CENTER>
<P></P>
<P>
<CENTER><B>Figure 6.14 -- Sound node geometry</B></CENTER>
<P></P>
<P>The <I>spatialize</I> field specifies if the sound is perceived as being 
directionally located relative to the viewer. If the <I>spatialize </I>field is 
TRUE and the viewer is located between the transformed inner and outer 
ellipsoids, the viewer's direction and the relative location of the Sound node 
should be taken into account during playback. Details outlining the minimum 
required spatialization functionality can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/conformance.html#7.3.4">7.3.4, 
Sound priority, attenuation, and spatialization</A>. If the <I>spatialize</I> 
field is FALSE, then directional effects are ignored, but the ellipsoid 
dimensions and<I> intensity</I> will still affect the loudness of the sound. If 
the sound source is multi-channel (e.g.,&nbsp;stereo), then the source should 
retain its channel separation during playback.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Sphere></A>6.43 Sphere</H2><PRE><B>Sphere { </B>
  field SFFloat <B>radius  1 </B>   # (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>The Sphere node specifies a sphere centred at (0, 0, 0) in the local 
coordinate system. The <I>radius</I> field specifies the radius of the sphere 
and shall be greater than zero. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.15">Figure 
6.15</A> depicts the fields of the Sphere node.</P>
<P>
<CENTER><A name=Figure6.15></A><IMG height=334 alt="Sphere node" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/sphere.gif" 
width=342 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/sphere.gif" SGI_HEIGHT_UNFIXED 
SGI_WIDTH_UNFIXED></CENTER>
<P></P>
<H4>
<CENTER>Figure 6.15 -- Sphere node</CENTER></H4>
<P>When a texture is applied to a sphere, the texture covers the entire surface, 
wrapping counterclockwise from the back of the sphere (i.e., longitudinal arc 
intersecting the -Z-axis) when viewed from the top of the sphere. The texture 
has a seam at the back where the X=0 plane intersects the sphere and Z values 
are negative. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#TextureTransform">TextureTransform</A> 
affects the texture coordinates of the Sphere.</P>
<P>The Sphere node's geometry requires outside faces only. When viewed from the 
inside the results are undefined.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=SphereSensor></A>6.44 SphereSensor</H2><PRE><B>SphereSensor { </B>
  exposedField SFBool     <B>autoOffset</B>        <B>TRUE</B>
  exposedField SFBool     <B>enabled           TRUE</B>
  exposedField SFRotation <B>offset</B>            <B>0 1 0 0  </B># [-1,1],(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  eventOut     SFBool     isActive
  eventOut     SFRotation rotation_changed
  eventOut     SFVec3f    trackPoint_changed
<B>}</B></PRE>
<P>The SphereSensor node maps pointing device motion into spherical rotation 
about the origin of the local coordinate system. The SphereSensor node uses the 
descendent geometry of its parent node to determine whether it is liable to 
generate events.</P>
<P>The <I>enabled</I> exposed field enables and disables the SphereSensor node. 
If <I>enabled</I> is TRUE, the sensor reacts appropriately to user events. If 
<I>enabled</I> is FALSE, the sensor does not track user input or send events. If 
<I>enabled</I> receives a FALSE event and <I>isActive</I> is TRUE, the sensor 
becomes disabled and deactivated, and outputs an <I>isActive</I> FALSE event. If 
<I>enabled</I> receives a TRUE event the sensor is enabled and ready for user 
activation.</P>
<P>The SphereSensor node generates events when the pointing device is activated 
while the pointer is indicating any descendent geometry nodes of the sensor's 
parent group. See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.5">4.6.7.5,&nbsp;Activating&nbsp;and&nbsp;manipulating&nbsp;sensors</A>, 
for details on using the pointing device to activate the SphereSensor.</P>
<P>Upon activation of the pointing device (e.g.,&nbsp;mouse button down) over 
the sensor's geometry, an <I>isActive</I> TRUE event is sent. The vector defined 
by the initial point of intersection on the SphereSensor's geometry and the 
local origin determines the radius of the sphere that is used to map subsequent 
pointing device motion while dragging. The virtual sphere defined by this radius 
and the local origin at the time of activation is used to interpret subsequent 
pointing device motion and is not affected by any changes to the sensor's 
coordinate system while the sensor is active. For each position of the bearing, 
a <I>rotation_changed</I> event is sent which corresponds to the sum of the 
relative rotation from the original intersection point plus the <I>offset</I> 
value. <I>trackPoint_changed</I> events reflect the unclamped drag position on 
the surface of this sphere. When the pointing device is deactivated and 
<I>autoOffset</I> is TRUE, <I>offset</I> is set to the last 
<I>rotation_changed</I> value and an <I>offset_changed</I> event is generated. 
See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.4">4.6.7.4, 
Drag sensors</A>, for more details.</P>
<P>When the sensor generates an <I>isActive</I> TRUE event, it grabs all further 
motion events from the pointing device until it is released and generates an 
<I>isActive</I> FALSE event (other pointing-device sensors shall not generate 
events during this time). Motion of the pointing device while <I>isActive</I> is 
TRUE is termed a "drag". If a 2D pointing device is in use, <I>isActive</I> 
events will typically reflect the state of the primary button associated with 
the device (i.e.,&nbsp;<I>isActive</I> is TRUE when the primary button is 
pressed and FALSE when it is released). If a 3D pointing device 
(e.g.,&nbsp;wand) is in use, <I>isActive</I> events will typically reflect 
whether the pointer is within (or in contact with) the sensor's geometry.</P>
<P>While the pointing device is activated,<I> trackPoint_changed</I> and 
<I>rotation_changed</I> events are output. <I>trackPoint_changed</I> events 
represent the unclamped intersection points on the surface of the invisible 
sphere. If the pointing device is dragged off the sphere while activated, 
browsers may interpret this in a variety of ways (e.g., clamp all values to the 
sphere or continue to rotate as the point is dragged away from the sphere). Each 
movement of the pointing device while <I>isActive</I> is TRUE generates 
<I>trackPoint_changed</I> and <I>rotation_changed</I> events.</P>
<P>Further information about this behaviour can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.3">4.6.7.3, 
Pointing-device sensors</A>, <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.4">4.6.7.4, 
Drag sensors</A>, and <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.5">4.6.7.5, 
Activating and manipulating sensors</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=SpotLight></A>6.45 SpotLight</H2><PRE><B>SpotLight { </B>
  exposedField SFFloat <B>ambientIntensity  0</B>         # [0,1]
  exposedField SFVec3f <B>attenuation       1 0 0</B>     # [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFFloat <B>beamWidth         1.570796</B>  # (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 align=bottom NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">/2]
  exposedField SFColor <B>color             1 1 1</B>     # [0,1]
  exposedField SFFloat <B>cutOffAngle       0.785398</B>  # (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 align=bottom NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">/2]
  exposedField SFVec3f <B>direction         0 0 -1</B>    # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFFloat <B>intensity         1</B>         # [0,1]
  exposedField SFVec3f <B>location          0 0 0</B>     # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFBool  <B>on                TRUE</B>
  exposedField SFFloat <B>radius            100</B>       # [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>The SpotLight node defines a light source that emits light from a specific 
point along a specific direction vector and constrained within a solid angle. 
Spotlights may illuminate geometry nodes that respond to light sources and 
intersect the solid angle defined by the SpotLight. Spotlight nodes are 
specified in the local coordinate system and are affected by ancestors' 
transformations.</P>
<P>A detailed description of <I>ambientIntensity,</I> <I>color</I>, 
<I>intensity</I>, and VRML's lighting equations is provided in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.6">4.6.6, 
Light sources</A>. More information on lighting concepts can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14,&nbsp;Lighting 
model</A>, including a detailed description of the VRML lighting equations.</P>
<P>The <I>location</I> field specifies a translation offset of the centre point 
of the light source from the light's local coordinate system origin. This point 
is the apex of the solid angle which bounds light emission from the given light 
source. The <I>direction</I> field specifies the direction vector of the light's 
central axis defined in the local coordinate system.</P>
<P>The <I>on</I> field specifies whether the light source emits light. If 
<I>on</I> is TRUE, the light source is emitting light and may illuminate 
geometry in the scene. If <I>on</I> is FALSE, the light source does not emit 
light and does not illuminate any geometry.</P>
<P>The <I>radius</I> field specifies the radial extent of the solid angle and 
the maximum distance from <I>location</I> that may be illuminated by the light 
source. The light source does not emit light outside this radius. The 
<I>radius</I> shall be greater than or equal to zero.</P>
<P>Both radius and location are affected by ancestors' transformations (scales 
affect <I>radius</I> and transformations affect <I>location</I>).</P>
<P>The <I>cutOffAngle</I> field specifies the outer bound of the solid angle. 
The light source does not emit light outside of this solid angle. The 
<I>beamWidth</I> field specifies an inner solid angle in which the light source 
emits light at uniform full intensity. The light source's emission intensity 
drops off from the inner solid angle (<I>beamWidth</I>) to the outer solid angle 
(<I>cutOffAngle</I>) as described in the following equations:</P><PRE>    angle = the angle between the Spotlight's direction vector
            and the vector from the Spotlight location to the point
            to be illuminated

    if (angle &gt;= cutOffAngle):
        multiplier = 0
    else if (angle &lt;= beamWidth):
        multiplier = 1
    else:
        multiplier = (angle - cutOffAngle) / (beamWidth - cutOffAngle)

    intensity(angle) = SpotLight.intensity  multiplier</PRE>
<P>If the <I>beamWidth</I> is greater than the <I>cutOffAngle</I>, 
<I>beamWidth</I> is defined to be equal to the <I>cutOffAngle</I> and the light 
source emits full intensity within the entire solid angle defined by 
<I>cutOffAngle</I>. Both <I>beamWidth</I> and <I>cutOffAngle</I> shall be 
greater than 0.0 and less than or equal to <IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=bottom NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">/2. <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Figure6.16">Figure 
6.16</A> depicts the <I>beamWidth</I>, <I>cutOffAngle</I>, <I>direction</I>, 
<I>location</I>, and <I>radius</I> fields of the SpotLight node.</P>
<H4>
<CENTER><A name=Figure6.16></A><IMG height=297 alt="SpotLight node" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/spotlight.gif" 
width=396 align=bottom NATURALSIZEFLAG="0" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/spotlight.gif" SGI_HEIGHT_UNFIXED 
SGI_WIDTH_UNFIXED></CENTER></H4>
<H4>
<CENTER>Figure 6.16 -- SpotLight node</CENTER></H4>
<P>SpotLight illumination falls off with distance as specified by three 
<I>attenuation</I> coefficients. The attenuation factor is 
1<I>/max(attenuation[0]&nbsp;+&nbsp;attenuation[1]</I><I>r&nbsp;+&nbsp;attenuation[2]</I><I>r</I><SUP>2</SUP>&nbsp;,&nbsp;1<I>)</I>, 
where <I>r</I> is the distance from the light to the surface being illuminated. 
The default is no attenuation. An <I>attenuation</I> value of (0, 0, 0) is 
identical to (1, 0, 0). Attenuation values shall be greater than or equal to 
zero. A detailed description of VRML's lighting equations is contained in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Switch></A>6.46 Switch</H2><PRE><B>Switch { </B>
  exposedField    MFNode  <B>choice      []</B>
  exposedField    SFInt32 <B>whichChoice -1</B>    # [-1,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>The Switch grouping node traverses zero or one of the nodes specified in the 
<I>choice</I> field.</P>
<P><A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.5">4.6.5, 
Grouping and children nodes</A>, describes details on the types of nodes that 
are legal values for <I>choice</I>.</P>
<P>The <I>whichChoice </I>field specifies the index of the child to traverse, 
with the first child having index 0. If <I>whichChoice </I>is less than zero or 
greater than the number of nodes in the <I>choice</I> field, nothing is 
chosen.</P>
<P>All nodes under a Switch continue to receive and send events regardless of 
the value of <I>whichChoice</I>. For example, if an active TimeSensor is 
contained within an inactive choice of an Switch, the TimeSensor sends events 
regardless of the Switch's state.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Text></A>6.47 Text</H2><PRE><B>Text { </B>
  exposedField  MFString <B>string    []</B>
  exposedField  SFNode <B>  fontStyle NULL</B>
  exposedField  MFFloat  <B>length    []</B>      # [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField  SFFloat  <B>maxExtent 0.0    </B> # [0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<H3>6.47.1 Introduction</H3>
<P>The Text node specifies a two-sided, flat text string object positioned in 
the Z=0 plane of the local coordinate system based on values defined in the 
fontStyle field (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#FontStyle">6.20,&nbsp;FontStyle</A>). 
Text nodes may contain multiple text strings specified using the UTF-8 encoding 
as specified by ISO&nbsp;10646-1:1993 (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[UTF8]">2.[UTF8]</A>). 
The text strings are stored in the order in which the text mode characters are 
to be produced as defined by the parameters in the FontStyle node.</P>
<P>The text strings are contained in the <I>string</I> field. The 
<I>fontStyle</I> field contains one <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#FontStyle">FontStyle</A> 
node that specifies the font size, font family and style, direction of the text 
strings, and any specific language rendering techniques used for the text.</P>
<P>The <I>maxExtent</I> field limits and compresses all of the text strings if 
the length of the maximum string is longer than the maximum extent, as measured 
in the local coordinate system. If the text string with the maximum length is 
shorter than the <I>maxExtent</I>, then there is no compressing. The maximum 
extent is measured horizontally for horizontal text (<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#FontStyle">FontStyle</A> 
node: <I>horizontal</I>=TRUE) and vertically for vertical text (<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#FontStyle">FontStyle</A> 
node: <I>horizontal</I>=FALSE). The <I>maxExtent</I> field shall be greater than 
or equal to zero.</P>
<P>The <I>length</I> field contains an MFFloat value that specifies the length 
of each text string in the local coordinate system. If the string is too short, 
it is stretched (either by scaling the text or by adding space between the 
characters). If the string is too long, it is compressed (either by scaling the 
text or by subtracting space between the characters). If a length value is 
missing (for example, if there are four strings but only three length values), 
the missing values are considered to be 0. The <I>length</I> field shall be 
greater than or equal to zero.</P>
<P>Specifying a value of 0 for both the <I>maxExtent</I> and <I>length</I> 
fields indicates that the string may be any length.</P>
<H3>6.47.2 ISO 10646-1:1993 Character Encodings</H3>
<P>Characters in ISO 10646 (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[UTF8]">2.[UTF8]</A>) 
are encoded in multiple octets. Code space is divided into four units, as 
follows:</P><PRE>+-------------+-------------+-----------+------------+
| Group-octet | Plane-octet | Row-octet | Cell-octet |
+-------------+-------------+-----------+------------+</PRE>
<P>ISO 10646-1:1993 allows two basic forms for characters:</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>UCS-2 (Universal Coded Character Set-2). This form is also known as the 
  Basic Multilingual Plane (BMP). Characters are encoded in the lower two octets 
  (row and cell). 
  <LI>UCS-4 (Universal Coded Character Set-4). Characters are encoded in the 
  full four octets. </LI></OL><!--/NOEDIT-->
<P></P>
<P>In addition, three transformation formats (UCS Transformation Format or UTF) 
are accepted: UTF-7, UTF-8, and UTF-16. Each represents the nature of the 
transformation: 7-bit, 8-bit, or 16-bit. UTF-7 and UTF-16 are referenced in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[UTF8]">2.[UTF8]</A>.</P>
<P>UTF-8 maintains transparency for all ASCII code values (0...127). It allows 
ASCII text (0x0..0x7F) to appear without any changes and encodes all characters 
from 0x80.. 0x7FFFFFFF into a series of six or fewer bytes.</P>
<P>If the most significant bit of the first character is 0, the remaining seven 
bits are interpreted as an ASCII character. Otherwise, the number of leading 1 
bits indicates the number of bytes following. There is always a zero bit between 
the count bits and any data.</P>
<P>The first byte is one of the following. The X indicates bits available to 
encode the character:</P><PRE> 0XXXXXXX only one byte   0..0x7F (ASCII)
 110XXXXX two bytes       Maximum character value is 0x7FF
 1110XXXX three bytes     Maximum character value is 0xFFFF
 11110XXX four bytes      Maximum character value is 0x1FFFFF
 111110XX five bytes      Maximum character value is 0x3FFFFFF
 1111110X six bytes       Maximum character value is 0x7FFFFFFF</PRE>
<P>All following bytes have the format 10XXXXXX.</P>
<P>As a two byte example, the symbol for a register trade mark is  or 174 in 
ISO Latin-1 (see&nbsp;<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/references.html#[I8859]">2.[I8859]</A>). 
It is encoded as 0x00AE in UCS-2 of ISO 10646. In UTF-8, it has the following 
two byte encoding: 0xC2, 0xAE.</P>
<H3>6.47.3 Appearance</H3>
<P>Textures are applied to text as follows. The texture origin is at the origin 
of the first string, as determined by the justification. The texture is scaled 
equally in both S and T dimensions, with the font height representing 1 unit. S 
increases to the right, and T increases up.</P>
<P><A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.14">4.14, 
Lighting model</A>, has details on VRML lighting equations and how Appearance, 
Material and textures interact with lighting.</P>
<P>The Text node does not participate in collision detection.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=TextureCoordinate></A>6.48 
TextureCoordinate</H2><PRE><B>TextureCoordinate { </B>
  exposedField MFVec2f <B>point  []</B>      # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>The TextureCoordinate node specifies a set of 2D texture coordinates used by 
vertex-based geometry nodes (e.g.,&nbsp;<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#IndexedFaceSet">IndexedFaceSet</A> 
and <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#ElevationGrid">ElevationGrid</A>) 
to map textures to vertices. Textures are two dimensional colour functions that, 
given an <I>(s,&nbsp;t)</I> coordinate, return a colour value 
<I>colour(s,&nbsp;t)</I>. Texture map values (<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#ImageTexture">ImageTexture</A>, 
<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#MovieTexture">MovieTexture</A>, 
and <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#PixelTexture">PixelTexture</A>) 
range from [0.0, 1.0] along the S-axis and T-axis. However, TextureCoordinate 
values, specified by the <I>point</I> field, may be in the range (-<IMG 
height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" 
width=21 align=absMiddle NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif"><I>,</I><IMG 
height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" 
width=21 align=absMiddle NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">). Texture 
coordinates identify a location (and thus a colour value) in the texture map. 
The horizontal coordinate <I>s</I> is specified first, followed by the vertical 
coordinate <I>t</I>.</P>
<P>If the texture map is repeated in a given direction (S-axis or T-axis), a 
texture coordinate C (s or t) is mapped into a texture map that has N pixels in 
the given direction as follows:</P><PRE>    Texture map location = (C - floor(C))  N</PRE>
<P>If the texture map is not repeated, the texture coordinates are clamped to 
the 0.0 to 1.0 range as follows:</P><PRE>    Texture map location = N,     if C &gt; 1.0,
                         = 0.0,   if C &lt; 0.0,
                         = C  N, if 0.0 &lt;= C &lt;= 1.0.</PRE>
<P>Details on repeating textures are specific to texture map node types 
described in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#ImageTexture">6.22,&nbsp;ImageTexture</A>, 
<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#MovieTexture">6.28,&nbsp;MovieTexture</A>, 
and <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#PixelTexture">6.33,&nbsp;PixelTexture</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=TextureTransform></A>6.49 
TextureTransform</H2><PRE><B>TextureTransform { </B>
  exposedField SFVec2f <B>center      0 0</B>     # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFFloat<B> rotation    0  </B>     # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFVec2f <B>scale       1 1</B>     # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFVec2f <B>translation 0 0</B>     # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
<B>}</B></PRE>
<P>The TextureTransform node defines a 2D transformation that is applied to 
texture coordinates (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#TextureCoordinate">6.48,&nbsp;TextureCoordinate</A>). 
This node affects the way textures coordinates are applied to the geometric 
surface. The transformation consists of (in order):</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>a translation; 
  <LI>a rotation about the centre point; 
  <LI>a non-uniform scale about the centre point. </LI></OL><!--/NOEDIT-->
<P></P>
<P>These parameters support changes to the size, orientation, and position of 
textures on shapes. Note that these operations appear reversed when viewed on 
the surface of geometry. For example, a <I>scale</I> value of (2 2) will scale 
the texture coordinates and have the net effect of shrinking the texture size by 
a factor of 2 (texture coordinates are twice as large and thus cause the texture 
to repeat). A translation of (0.5 0.0)<B> </B>translates the texture coordinates 
+.5 units along the S-axis and has the net effect of translating the texture 
-0.5 along the S-axis on the geometry's surface. A rotation of <IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=bottom NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">/2 of the texture 
coordinates results in a -<IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=bottom NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">/2 rotation of the 
texture on the geometry.</P>
<P>The <I>center</I> field specifies a translation offset in texture coordinate 
space about which the <I>rotation</I> and <I>scale</I> fields are applied. The 
<I>scale</I> field specifies a scaling factor in S and T of the texture 
coordinates about the <I>center</I> point. <I>scale</I> values shall be in the 
range (-<IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" 
width=21 align=absMiddle NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">, <IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" 
width=21 align=absMiddle NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif"><I>)</I>. The 
<I>rotation</I> field specifies a rotation in radians of the texture coordinates 
about the <I>center</I> point after the scale has been applied. A positive 
rotation value makes the texture coordinates rotate counterclockwise about the 
centre, thereby rotating the appearance of the texture itself clockwise. The 
<I>translation</I> field specifies a translation of the texture coordinates.</P>
<P>In matrix transformation notation, where<I> Tc</I> is the untransformed 
texture coordinate, <I>Tc'</I> is the transformed texture coordinate, <I>C</I> 
(<I>center</I>), <I>T</I> (<I>translation</I>), <I>R</I> (<I>rotation</I>), and 
<I>S</I> (<I>scale</I>) are the intermediate transformation matrices,</P><PRE>    Tc' = -C  S  R  C  T  Tc</PRE>
<P>Note that this transformation order is the reverse of the Transform node 
transformation order since the texture coordinates, not the texture, are being 
transformed (i.e.,&nbsp;the texture coordinate system).</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=TimeSensor></A>6.50 TimeSensor</H2><PRE><B>TimeSensor { </B>
  exposedField SFTime   <B>cycleInterval 1</B>       # (0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFBool   <B>enabled       TRUE</B>
  exposedField SFBool   <B>loop          FALSE</B>
  exposedField SFTime   <B>startTime     0</B>       # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFTime   <B>stopTime      0</B>       # (-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  eventOut     SFTime   cycleTime
  eventOut     SFFloat  fraction_changed      # [0,&nbsp;1]
  eventOut     SFBool   isActive
  eventOut     SFTime   time
<B>}</B></PRE>
<P>TimeSensor nodes generate events as time passes. TimeSensor nodes can be used 
for many purposes including:</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>driving continuous simulations and animations; 
  <LI>controlling periodic activities (<I>e.g.</I>, one per minute); 
  <LI>initiating single occurrence events such as an alarm clock. </LI></OL><!--/NOEDIT-->
<P></P>
<P>The TimeSensor node contains two discrete eventOuts: <I>isActive</I> and 
<I>cycleTime</I>. The <I>isActive</I> eventOut sends TRUE when the TimeSensor 
node begins running, and FALSE when it stops running. The <I>cycleTime</I> 
eventOut sends a time event at <I>startTime</I> and at the beginning of each new 
cycle (useful for synchronization with other time-based objects). The remaining 
eventOuts generate continuous events. The <I>fraction_changed</I> eventOut, an 
SFFloat in the closed interval [0,1], sends the completed fraction of the 
current cycle. The <I>time</I> eventOut sends the absolute time for a given 
<I>simulation tick</I>.</P>
<P>If the <I>enabled</I> exposedField is TRUE, the TimeSensor node is enabled 
and may be running. If a <I>set_enabled </I>FALSE event is received while the 
TimeSensor node is running, the sensor performs the following actions:</P>
<P><!--NOEDIT-->
<OL type=a start=4>
  <LI>evaluates and sends all relevant outputs; 
  <LI>sends a FALSE value for <I>isActive</I>; 
  <LI>disables itself. </LI></OL><!--/NOEDIT-->
<P></P>
<P>Events on the exposedFields of the TimeSensor node 
(e.g.,<I>&nbsp;set_startTime) </I>are processed and their corresponding 
eventOuts (e.g.,<I>&nbsp;startTime_changed)</I> are sent regardless of the state 
of the <I>enabled </I>field. The remaining discussion assumes <I>enabled</I> is 
TRUE.</P>
<P>The <I>loop, startTime,</I> and <I>stopTime</I> exposedFields and the 
<I>isActive</I> eventOut and their effects on the TimeSensor node are discussed 
in detail in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.9">4.6.9,&nbsp;Time-dependent 
nodes</A>. The "cycle<I>"</I> of a TimeSensor node lasts for 
<I>cycleInterval</I> seconds. The value of <I>cycleInterval</I> shall be greater 
than&nbsp;zero.</P>
<P>A <I>cycleTime</I> eventOut can be used for synchronization purposes such as 
sound with animation. The value of a <I>cycleTime</I> eventOut will be equal to 
the time at the beginning of the current cycle. A <I>cycleTime </I>eventOut is 
generated at the beginning of every cycle, including the cycle starting at 
<I>startTime</I>. The first <I>cycleTime</I> eventOut for a TimeSensor node can 
be used as an alarm (single pulse at a specified time).</P>
<P>When a TimeSensor node becomes active, it generates an <I>isActive = </I>TRUE 
event and<I> </I>begins generating <I>time,</I> <I>fraction_changed,</I> and 
<I>cycleTime </I>events which may be routed to other nodes to drive animation or 
simulated behaviours. The behaviour at read time is described below. The<I> 
time</I> event sends the absolute time for a given tick of the TimeSensor node 
(<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/fieldsRef.html#SFTime">time</A> 
fields and events represent the number of seconds since midnight GMT 
January&nbsp;1, 1970).</P>
<P><I>fraction_changed</I> events output a floating point value in the closed 
interval [0,&nbsp;1]. At <I>startTime</I> the value of <I>fraction_changed</I> 
is 0. After <I>startTime,</I> the value of <I>fraction_changed</I> in any cycle 
will progress through the range (0.0, 1.0]. At 
<I>startTime&nbsp;+&nbsp;</I>N&nbsp;&nbsp;<I>cycleInterval, </I>for N = 1, 2, 
..., that is, at the end of every cycle, the value of <I>fraction_changed</I> is 
1.</P>
<P>Let <I>now</I> represent the time at the current simulation tick. Then the 
<I>time</I> and <I>fraction_changed </I>eventOuts<I> </I>can then be computed 
as:</P><PRE><I>   </I> <I>time </I>= <I>now</I>
    temp = (<I>now</I> - startTime) / cycleInterval
    f    = fractionalPart(temp)
    if (f == 0.0 &amp;&amp; <I>now</I> &gt; startTime) <I>fraction_changed</I> = 1.0
    else <I>fraction_changed</I> = f</PRE>
<P>where<TT> fractionalPart(x) </TT>is a function that returns the fractional 
part, (that is, the digits to the right of the decimal point), of a nonnegative 
floating point number.</P>
<P>A TimeSensor node can be set up to be active at read time by specifying 
<I>loop</I> TRUE (not the default) and <I>stopTime&nbsp;</I>less than or equal 
to<I>&nbsp;startTime</I> (satisfied by the default values). The <I>time</I> 
events output absolute times for each tick of the TimeSensor node simulation. 
The <I>time</I> events shall start at the first simulation tick greater than or 
equal to <I>startTime.</I> <I>time</I> events end at <I>stopTime</I>, or at 
<I>startTime&nbsp;</I>+&nbsp;<I>N&nbsp;</I>&nbsp;<I>cycleInterval</I> for some 
positive integer value of <I>N</I>, or loop forever depending on the values of 
the other fields. An active TimeSensor node shall stop at the first simulation 
tick when 
<I>now&nbsp;</I>&gt;=&nbsp;<I>stopTime&nbsp;&gt;&nbsp;startTime</I>.</P>
<P>No guarantees are made with respect to how often a TimeSensor node generates 
time events, but a TimeSensor node shall generate events at least at every 
simulation tick. TimeSensor nodes are guaranteed to generate final <I>time</I> 
and <I>fraction_changed</I> events. If loop is FALSE at the end of the 
<I>N</I>th cycleInterval and was TRUE at 
<I>startTime&nbsp;+&nbsp;M&nbsp;</I>&nbsp;<I>cycleInterval</I> for all 
<I>0&nbsp;&lt;&nbsp;M&nbsp;&lt;&nbsp;N</I>, the final <I>time</I> event will be 
generated with a value of 
(<I>startTime&nbsp;+&nbsp;N&nbsp;</I>&nbsp;<I>cycleInterval</I>) or <I>stopTime 
(</I>if <I>stopTime&nbsp;</I>&gt;&nbsp;<I>startTime), </I>whichever value is 
less. If <I>loop</I> is TRUE at the completion of every cycle, the final event 
is generated as evaluated at <I>stopTime</I> (if 
<I>stopTime&nbsp;</I>&gt;&nbsp;<I>startTime)</I> or never<I>.</I></P>
<P>An active TimeSensor node ignores <I>set_cycleInterval</I> and 
<I>set_startTime</I> events. An active TimeSensor node also ignores 
<I>set_stopTime</I> events for <I>set_stopTime&nbsp;</I>less than or equal 
to<I>&nbsp;startTime</I>. For example, if a <I>set_startTime</I> event is 
received while a TimeSensor node is active, that <I>set_startTime</I> event is 
ignored (the <I>startTime</I> field is not changed, and a 
<I>startTime_changed</I> eventOut is not generated). If an active TimeSensor 
node receives a<I> set_stopTime</I> event that is less than the current time, 
and greater than <I>startTime</I>, it behaves as if the <I>stopTime</I> 
requested is the current time and sends the final events based on the current 
time (note that <I>stopTime </I>is set as specified in the eventIn).</P>
<P>A TimeSensor read from a VRML file shall generate <I>isActive </I>TRUE, 
<I>time</I> and <I>fraction_changed</I> events if the sensor is enabled and all 
conditions for a TimeSensor to be active are met.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=TouchSensor></A>6.51 TouchSensor</H2><PRE><B>TouchSensor { </B>
  exposedField SFBool <B> enabled TRUE</B>
  eventOut     SFVec3f hitNormal_changed
  eventOut     SFVec3f hitPoint_changed
  eventOut     SFVec2f hitTexCoord_changed
  eventOut     SFBool  isActive
  eventOut     SFBool  isOver
  eventOut     SFTime  touchTime
<B>}</B></PRE>
<P>A TouchSensor node tracks the location and state of the pointing device and 
detects when the user points at geometry contained by the TouchSensor node's 
parent group. A TouchSensor node can be enabled or disabled by sending it an 
<I>enabled</I> event with a value of TRUE or FALSE. If the TouchSensor node is 
disabled, it does not track user input or send events.</P>
<P>The TouchSensor generates events when the pointing device points toward any 
geometry nodes that are descendants of the TouchSensor's parent group. 
See&nbsp;<A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.5">4.6.7.5,&nbsp;Activating&nbsp;and&nbsp;manipulating&nbsp;sensors</A>, 
for more details on using the pointing device to activate the TouchSensor.</P>
<P>The <I>isOver</I> eventOut reflects the state of the pointing device with 
regard to whether it is pointing towards the TouchSensor node's geometry or not. 
When the pointing device changes state from a position such that its bearing 
does not intersect any of the TouchSensor node's geometry to one in which it 
does intersect geometry, an <I>isOver</I> TRUE event is generated. When the 
pointing device moves from a position such that its bearing intersects geometry 
to one in which it no longer intersects the geometry, or some other geometry is 
obstructing the TouchSensor node's geometry, an <I>isOver</I> FALSE event is 
generated. These events are generated only when the pointing device has moved 
and changed `over' state. Events are not generated if the geometry itself is 
animating and moving underneath the pointing device.</P>
<P>As the user moves the bearing over the TouchSensor node's geometry, the point 
of intersection (if any) between the bearing and the geometry is determined. 
Each movement of the pointing device, while <I>isOver</I> is TRUE, generates 
<I>hitPoint_changed</I>, <I>hitNormal_changed</I> and <I>hitTexCoord_changed 
</I>events. <I>hitPoint_changed</I> events contain the 3D point on the surface 
of the underlying geometry, given in the TouchSensor node's coordinate system. 
<I>hitNormal_changed</I> events contain the surface normal vector at the 
<I>hitPoint</I>. <I>hitTexCoord_changed</I> events contain the texture 
coordinates of that surface at the <I>hitPoint</I>. The values of 
<I>hitTexCoord_changed</I> and <I>hitNormal_changed</I> events are computed as 
appropriate for the associated shape.<BR></P>
<P>If <I>isOver</I> is TRUE, the user may activate the pointing device to cause 
the TouchSensor node to generate <I>isActive</I> events (e.g.,&nbsp;by pressing 
the primary mouse button). When the TouchSensor node generates an 
<I>isActive</I> TRUE event, it grabs all further motion events from the pointing 
device until it is released and generates an <I>isActive</I> FALSE event (other 
pointing-device sensors will not generate events during this time). Motion of 
the pointing device while <I>isActive</I> is TRUE is termed a "drag." If a 2D 
pointing device is in use, <I>isActive</I> events reflect the state of the 
primary button associated with the device (i.e.,&nbsp;<I>isActive</I> is TRUE 
when the primary button is pressed and FALSE when it is released). If a 3D 
pointing device is in use, <I>isActive</I> events will typically reflect whether 
the pointing device is within (or in contact with) the TouchSensor node's 
geometry.</P>
<P>The eventOut field <I>touchTime </I>is generated when all three of the 
following conditions are true:</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>The pointing device <U>was</U> pointing towards the geometry when it was 
  <U>initially</U> <U>activated</U> (<I>isActive</I> is TRUE). 
  <LI>The pointing device <U>is</U> currently pointing towards the 
  <U>geometry</U> (<I>isOver</I> is TRUE). 
  <LI>The pointing device is <U>deactivated</U> (<I>isActive</I> FALSE event is 
  also generated). </LI></OL><!--/NOEDIT-->
<P></P>
<P>More information about this behaviour is described in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.3">4.6.7.3, 
Pointing-device sensors</A>, <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.4">4.6.7.4, 
Drag sensors</A>, and <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.7.5">4.6.7.5, 
Activating and manipulating sensors</A>.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Transform></A>6.52 Transform</H2><PRE><B>Transform { </B>
  eventIn      MFNode      addChildren
  eventIn      MFNode      removeChildren
  exposedField SFVec3f     <B>center           0 0 0    </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField MFNode      <B>children         []</B>
  exposedField SFRotation  <B>rotation         0 0 1 0  </B># [-1,1],(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFVec3f     <B>scale            1 1 1    </B>#&nbsp;(0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFRotation  <B>scaleOrientation 0 0 1 0  </B># [-1,1],(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFVec3f     <B>translation      0 0 0    </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        SFVec3f     <B>bboxCenter       0 0 0    </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        SFVec3f     <B>bboxSize         -1 -1 -1 </B>#&nbsp;(0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)&nbsp;or&nbsp;-1,-1,-1
<B>} </B></PRE>
<P>The Transform node is a grouping node that defines a coordinate system for 
its children that is relative to the coordinate systems of its ancestors. See <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.4.4">4.4.4, 
Transformation hierarchy</A>, and <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.4.5">4.4.5, 
Standard units and coordinate system</A>, for a description of coordinate 
systems and transformations.</P>
<P><A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.5">4.6.5, 
Grouping and children nodes</A>, provides a description of the <I>children</I>, 
<I>addChildren</I>, and <I>removeChildren</I> fields and eventIns.</P>
<P>The <I>bboxCenter</I> and <I>bboxSize</I> fields specify a bounding box that 
encloses the children of the Transform node. This is a hint that may be used for 
optimization purposes. The results are undefined if the specified bounding box 
is smaller than the actual bounding box of the children at any time. A default 
<I>bboxSize</I> value, (-1,&nbsp;-1,&nbsp;-1), implies that the bounding box is 
not specified and, if needed, shall be calculated by the browser. The bounding 
box shall be large enough at all times to enclose the union of the group's 
children's bounding boxes; it shall not include any transformations performed by 
the group itself (i.e., the bounding box is defined in the local coordinate 
system of the children). The results are undefined if the specified bounding box 
is smaller than the true bounding box of the group. A description of the 
<I>bboxCenter</I> and <I>bboxSize</I> fields is provided in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.4">4.6.4, 
Bounding boxes</A>.</P>
<P>The <I>translation</I>, <I>rotation</I>, <I>scale</I>, 
<I>scaleOrientation</I> and <I>center</I> fields define a geometric 3D 
transformation consisting of (in order):</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>a (possibly) non-uniform scale about an arbitrary point; 
  <LI>a rotation about an arbitrary point and axis; 
  <LI>a translation. </LI></OL><!--/NOEDIT-->
<P></P>
<P>The <I>center</I> field specifies a translation offset from the origin of the 
local coordinate system (0,0,0). The <I>rotation</I> field specifies a rotation 
of the coordinate system. The <I>scale</I> field specifies a non-uniform scale 
of the coordinate system. <I>scale</I> values shall be greater than&nbsp;zero. 
The <I>scaleOrientation</I> specifies a rotation of the coordinate system before 
the scale (to specify scales in arbitrary orientations). The 
<I>scaleOrientation</I> applies only to the scale operation. The 
<I>translation</I> field specifies a translation to the coordinate system.</P>
<P>Given a 3-dimensional point <B>P</B> and Transform node, <B>P</B> is 
transformed into point <B>P'</B> in its parent's coordinate system by a series 
of intermediate transformations. In matrix transformation notation, where C 
(<I>center</I>), SR (<I>scaleOrientation</I>), T (<I>translation</I>), R 
(<I>rotation</I>), and S (<I>scale</I>) are the equivalent transformation 
matrices,</P><PRE><B>    P'</B> = T  C  R  SR  S  -SR  -C  <B>P</B></PRE>
<P>The following Transform node:</P><PRE><B>Transform { </B>
<B>    center           C</B>
<B>    rotation         R</B>
<B>    scale            S</B>
<B>    scaleOrientation SR</B>
<B>    translation      T</B>
<B>    children         [...]</B>
<B>}</B></PRE>
<P>is equivalent to the nested sequence of:</P><PRE><B>Transform {</B>
<B>  translation T </B>
<B>  children Transform {</B>
<B>    translation C</B>
<B>    children Transform {</B>
<B>      rotation R</B>
<B>      children Transform {</B>
<B>        rotation SR </B>
<B>        children Transform {</B>
<B>          scale S </B>
<B>          children Transform {</B>
<B>            rotation -SR </B>
<B>            children Transform {</B>
<B>              translation -C</B>
<B>              children [...]</B>
<B>}}}}}}}</B></PRE>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=Viewpoint></A>6.53 Viewpoint</H2><PRE><B>Viewpoint { </B>
  eventIn      SFBool     set_bind
  exposedField SFFloat    <B>fieldOfView    0.785398  </B>#&nbsp;(0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 align=bottom NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">)
  exposedField SFBool     <B>jump           TRUE</B>
  exposedField SFRotation <B>orientation    0 0 1 0   </B># [-1,1],(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFVec3f    <B>position       0 0 10    </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  field        SFString  <B> description    ""</B>
  eventOut     SFTime     bindTime
  eventOut     SFBool     isBound
<B>}</B></PRE>
<P>The Viewpoint node defines a specific location in the local coordinate system 
from which the user may view the scene. Viewpoint nodes are bindable children 
nodes (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.10">4.6.10,&nbsp;Bindable&nbsp;children&nbsp;nodes</A>) 
and thus there exists a Viewpoint node stack in the browser in which the 
top-most Viewpoint node on the stack is the currently active Viewpoint node. If 
a TRUE value is sent to the <I>set_bind</I> eventIn of a Viewpoint node, it is 
moved to the top of the Viewpoint node stack and activated. When a Viewpoint 
node is at the top of the stack, the user's view is conceptually re-parented as 
a child of the Viewpoint node. All subsequent changes to the Viewpoint node's 
coordinate system change the user's view (e.g.,&nbsp;changes to any ancestor 
transformation nodes or to the Viewpoint node's <I>position</I> or 
<I>orientation</I> fields). Sending a <I>set_bind </I>FALSE event removes the 
Viewpoint node from the stack and produces <I>isBound </I>FALSE and 
<I>bindTime</I> events. If the popped Viewpoint node is at the top of the 
viewpoint stack, the user's view is re-parented to the next entry in the stack. 
More details on binding stacks can be found in <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.10">4.6.10,&nbsp;Bindable&nbsp;children&nbsp;nodes</A>. 
When a Viewpoint node is moved to the top of the stack, the existing top of 
stack Viewpoint node sends an <I>isBound</I> FALSE event and is pushed down the 
stack.</P>
<P>An author can automatically move the user's view through the world by binding 
the user to a Viewpoint node and then animating either the Viewpoint node or the 
transformations above it. Browsers shall allow the user view to be navigated 
relative to the coordinate system defined by the Viewpoint node (and the 
transformations above it) even if the Viewpoint node or its ancestors' 
transformations are being animated.</P>
<P>The <I>bindTime</I> eventOut sends the time at which the Viewpoint node is 
bound or unbound. This can happen:</P>
<P><!--NOEDIT-->
<OL type=a>
  <LI>during loading; 
  <LI>when a<I> set_bind </I>event is sent to the Viewpoint node; 
  <LI>when the browser binds to the Viewpoint node through its user interface 
  described below. </LI></OL><!--/NOEDIT-->
<P></P>
<P>The <I>position</I> and <I>orientation</I> fields of the Viewpoint node 
specify relative locations in the local coordinate system. <I>Position</I> is 
relative to the coordinate system's origin (0,0,0), while <I>orientation</I> 
specifies a rotation relative to the default orientation. In the default 
position and orientation, the viewer is on the Z-axis looking down the -Z-axis 
toward the origin with +X to the right and +Y straight up. Viewpoint nodes are 
affected by the transformation hierarchy.</P>
<P>Navigation types (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#NavigationInfo">6.29, 
NavigationInfo</A>) that require a definition of a down vector 
(e.g.,&nbsp;terrain following) shall use the negative Y-axis of the coordinate 
system of the currently bound Viewpoint node. Likewise, navigation types that 
require a definition of an up vector shall use the positive Y-axis of the 
coordinate system of the currently bound Viewpoint node. The <I>orientation</I> 
field of the Viewpoint node does not affect the definition of the down or up 
vectors. This allows the author to separate the viewing direction from the 
gravity direction.</P>
<P>The <I>jump</I> field specifies whether the user's view "jumps" to the 
position and orientation of a bound Viewpoint node or remains unchanged. This 
jump is instantaneous and discontinuous in that no collisions are performed and 
no ProximitySensor nodes are checked in between the starting and ending jump 
points. If the user's position before the jump is inside a ProximitySensor the 
<I>exitTime</I> of that sensor shall send the same timestamp as the bind 
eventIn. Similarly, if the user's position after the jump is inside a 
ProximitySensor the <I>enterTime</I> of that sensor shall send the same 
timestamp as the bind eventIn. Regardless of the value of <I>jump</I> at bind 
time, the relative viewing transformation between the user's view and the 
current Viewpoint node shall be stored with the current Viewpoint node for later 
use when <I>un-jumping</I> (i.e.,&nbsp;popping the Viewpoint node binding stack 
from a Viewpoint node with <I>jump</I> TRUE<I>)</I>. The following summarizes 
the bind stack rules (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.6.10">4.6.10,&nbsp;Bindable&nbsp;children&nbsp;nodes</A>) 
with additional rules regarding Viewpoint nodes (displayed in boldface 
type):</P>
<P><!--NOEDIT-->
<OL type=a start=4>
  <LI>During read, the first encountered Viewpoint node is bound by pushing it 
  to the top of the Viewpoint node stack. If a Viewpoint node name is specified 
  in the URL that is being read, this named Viewpoint node is considered to be 
  the first encountered Viewpoint node. Nodes contained within <A 
  href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Inline">Inline</A> 
  nodes, within the strings passed to the Browser.createVrmlFromString() method, 
  or within files passed to the Browser.createVrmlFromURL() method (see <A 
  href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/concepts.html#4.12.10">4.12.10, 
  Browser script interface</A>) are not candidates for the first encountered 
  Viewpoint node. The first node within a prototype instance is a valid 
  candidate for the first encountered Viewpoint node. The first encountered 
  Viewpoint node sends an <I>isBound </I>TRUE<I> </I>event. 
  <LI>When a <I>set_bind</I> TRUE event is received by a Viewpoint node, 
  <OL type=1>
    <LI>If it is <U>not</U> on the top of the stack: <B>The relative 
    transformation from the current top of stack Viewpoint node to the user's 
    view is stored with the current top of stack Viewpoint node. </B>The current 
    top of stack node sends an <I>isBound</I> FALSE event. The new node is 
    <U>moved</U> to the top of the stack and becomes the currently bound 
    Viewpoint node. The new Viewpoint node (top of stack) sends an <I>isBound 
    </I>TRUE<I> </I>event. <B>If <I>jump</I> is TRUE for the new Viewpoint node, 
    the user's view is instantaneously "jumped" to match the values in the 
    <I>position</I> and <I>orientation</I> fields of the new Viewpoint node.</B> 

    <LI>If the node is already at the top of the stack, this event has no 
    affect. </LI></OL>
  <LI>When a <I>set_bind</I> FALSE event is received by a Viewpoint node in the 
  stack, it is removed from the stack. If it was on the top of the stack, 
  <OL type=1>
    <LI>it sends an <I>isBound</I> FALSE event, 
    <LI>the next node in the stack becomes the currently bound Viewpoint node<I> 
    </I>(i.e.,&nbsp;pop)<I> </I>and issues an<I> isBound </I>TRUE<I> </I>event, 
    <LI><B>if its <I>jump</I> field value is TRUE, the user's view is 
    instantaneously "jumped" to the <I>position</I> and <I>orientation</I> of 
    the next Viewpoint node in the stack <U>with</U> the stored relative 
    transformation of this next Viewpoint node applied.</B> </LI></OL>
  <LI>If a <I>set_bind</I> FALSE event is received by a node not in the stack, 
  the event is ignored and <I>isBound</I> events are not sent. 
  <LI>When a node replaces another node at the top of the stack, the 
  <I>isBound</I> TRUE and FALSE events from the two nodes are sent 
  simultaneously (i.e.,&nbsp;with identical timestamps). 
  <LI>If a bound node is deleted, it behaves as if it received a <I>set_bind 
  </I>FALSE event (see c.). </LI></OL><!--/NOEDIT-->
<P></P>
<P>The <I>jump</I> field may change after a Viewpoint node is bound. The rules 
described above still apply. If <I>jump</I> was TRUE when the Viewpoint node is 
bound, but changed to FALSE before the <I>set_bind </I>FALSE is sent, the 
Viewpoint node does not <I>un-jump</I> during unbind. If <I>jump</I> was FALSE 
when the Viewpoint node is bound, but changed to TRUE before the <I>set_bind 
</I>FALSE is sent, the Viewpoint node does perform the <I>un-jump</I> during 
unbind.</P>
<P>Note that there are two other mechanisms that result in the binding of a new 
Viewpoint:</P>
<P><!--NOEDIT-->
<OL type=a start=10>
  <LI>An Anchor node's <I>url</I> field specifies a "#ViewpointName". 
  <LI>A script invokes the <TT>loadURL()</TT> method and the URL argument 
  specifies a "#ViewpointName". </LI></OL><!--/NOEDIT-->
<P></P>
<P>Both of these mechanisms override the <I>jump</I> field value of the 
specified Viewpoint node (#ViewpointName) and assume that <I>jump</I> is TRUE 
when binding to the new Viewpoint. The behaviour of the viewer transition to the 
newly bound Viewpoint depends on the currently bound NavigationInfo node's 
<I>type</I> field value (see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#NavigationInfo">6.29,&nbsp;NavigationInfo</A>).</P>
<P>The <I>fieldOfView</I> field specifies a preferred minimum viewing angle from 
this viewpoint in radians. A small field of view roughly corresponds to a 
telephoto lens; a large field of view roughly corresponds to a wide-angle lens. 
The field of view shall be greater than zero and smaller than <IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=bottom NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif">. The value of 
<I>fieldOfView</I> represents the minimum viewing angle in any direction axis 
perpendicular to the view. For example, a browser with a rectangular viewing 
projection shall have the following relationship:</P><PRE>      display width    tan(FOV<SUB>horizontal</SUB>/2)
      -------------- = -----------------
      display height   tan(FOV<SUB>vertical</SUB>/2)</PRE>
<P>where the smaller of display width or display height determines which angle 
equals the <I>fieldOfView</I> (the larger angle is computed using the 
relationship described above). The larger angle shall not exceed <IMG height=10 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/pi.gif" width=12 
align=bottom NATURALSIZEFLAG="3" 
SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/pi.gif"> and may force the 
smaller angle to be less than <I>fieldOfView</I> in order to sustain the aspect 
ratio.</P>
<P>The <I>description</I> field specifies a textual description of the Viewpoint 
node. This may be used by browser-specific user interfaces. If a Viewpoint's 
<I>description</I> field is empty it is recommended that the browser not present 
this Viewpoint in its browser-specific user interface.</P>
<P>The URL syntax "<TT>.../scene.wrl#ViewpointName</TT>" specifies the user's 
initial view when loading "scene.wrl" to be the first Viewpoint node in the VRML 
file that appears as 
<B><TT>DEF&nbsp;ViewpointName&nbsp;Viewpoint&nbsp;{...}</TT></B>. This overrides 
the first Viewpoint node in the VRML file as the initial user view, and a 
<I>set_bind</I> TRUE message is sent to the Viewpoint node named 
"ViewpointName". If the Viewpoint node named "ViewpointName" is not found, the 
browser shall use the first Viewpoint node in the VRML file (i.e.&nbsp;the 
normal default behaviour). The URL syntax "<TT>#ViewpointName</TT>" 
(i.e.&nbsp;no file name) specifies a viewpoint within the existing VRML file. If 
this URL is loaded (e.g.&nbsp;Anchor node's <I>url</I> field or 
<TT>loadURL()</TT> method is invoked by a Script node), the Viewpoint node named 
"ViewpointName" is bound (a <I>set_bind</I> TRUE event is sent to this Viewpoint 
node).</P>
<P>The results are undefined if a Viewpoint node is bound and is the child of an 
LOD, Switch, or any node or prototype that disables its children. If a Viewpoint 
node is bound that results in collision with geometry, the browser shall perform 
its self-defined navigation adjustments as if the user navigated to this point 
(see <A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/part1/nodesRef.html#Collision">6.8,&nbsp;Collision</A>).</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=VisibilitySensor></A>6.54 
VisibilitySensor</H2><PRE><B>VisibilitySensor { </B>
  exposedField SFVec3f <B>center   0 0 0      </B>#&nbsp;(-<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  exposedField SFBool  <B>enabled  TRUE</B>
  exposedField SFVec3f <B>size     0 0 0      </B>#&nbsp;[0,<IMG height=10 src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/infinity.gif" width=21 align=absMiddle NATURALSIZEFLAG="3" SGI_SRC="/usr/people/rikk/VRML/spec.DIS/Images/infinity.gif">)
  eventOut     SFTime  enterTime
  eventOut     SFTime  exitTime
  eventOut     SFBool  isActive
<B>}</B></PRE>
<P>The VisibilitySensor node detects visibility changes of a rectangular box as 
the user navigates the world. VisibilitySensor is typically used to detect when 
the user can see a specific object or region in the scene in order to activate 
or deactivate some behaviour or animation. The purpose is often to attract the 
attention of the user or to improve performance.</P>
<P>The <I>enabled</I> field enables and disables the VisibilitySensor node. If 
<I>enabled</I> is set to FALSE, the VisibilitySensor node does not send events. 
If <I>enabled</I> is TRUE, the VisibilitySensor node detects changes to the 
visibility status of the box specified and sends events through the 
<I>isActive</I> eventOut. A TRUE event is output to <I>isActive</I> when any 
portion of the box impacts the rendered view. A FALSE event is sent when the box 
has no effect on the view. Browsers shall guarantee that, if <I>isActive</I> is 
FALSE, the box has absolutely no effect on the rendered view. Browsers may err 
liberally when <I>isActive</I> is TRUE. For example, the box may affect the 
rendering.</P>
<P>The exposed fields <I>center</I> and <I>size</I> specify the object space 
location of the box centre and the extents of the box (i.e.,&nbsp;width, height, 
and depth). The VisibilitySensor node's box is affected by hierarchical 
transformations of its parents. The components of the <I>size</I> field shall be 
greater than or equal to zero.</P>
<P>The <I>enterTime</I> event is generated whenever the <I>isActive</I> TRUE 
event is generated, and <I>exitTime</I> events are generated whenever 
<I>isActive</I> FALSE events are generated. A VisibilitySensor read from a VRML 
file shall generate <I>isActive </I>TRUE and <I>enterTime</I> events if the 
sensor is enabled and the visibility box is visible. A VisibilitySensor inserted 
into the transformation hierarchy shall generate <I>isActive </I>TRUE and 
<I>enterTime</I> events if the sensor is enabled and the visibility box is 
visible. A VisibilitySensor removed from the transformation hierarchy shall 
generate <I>isActive </I>FALSE and <I>exitTime</I> events if the sensor is 
enabled and the visibility box is visible.</P>
<P>Each VisibilitySensor node behaves independently of all other 
VisibilitySensor nodes. Every enabled VisibilitySensor node that is affected by 
the user's movement receives and sends events, possibly resulting in multiple 
VisibilitySensor nodes receiving and sending events simultaneously. Unlike 
TouchSensor nodes, there is no notion of a VisibilitySensor node lower in the 
scene graph "grabbing" events. Multiply instanced VisibilitySensor nodes 
(i.e.,&nbsp;DEF/USE) use the union of all the boxes defined by their instances. 
An instanced VisibilitySensor node shall detect visibility changes for all 
instances of the box and send events appropriately.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"></P>
<H2><IMG height=19 alt=+ 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/cube.gif" width=20 
align=bottom NATURALSIZEFLAG="0"><A name=WorldInfo></A>6.55 WorldInfo</H2><PRE><B>WorldInfo { </B>
  field MFString <B>info  []</B>
  field SFString <B>title ""</B>
<B>}</B></PRE>
<P>The WorldInfo node contains information about the world. This node is 
strictly for documentation purposes and has no effect on the visual appearance 
or behaviour of the world. The <I>title</I> field is intended to store the name 
or title of the world so that browsers can present this to the user (perhaps in 
the window border). Any other information about the world can be stored in the 
<I>info</I> field, such as author information, copyright, and usage 
instructions.</P>
<P><IMG height=25 alt="--- VRML separator bar ---" 
src="VRML97, ISO-IEC 14772-11997 -- 6 Node Reference_archivos/vrmlbar.gif" 
width=470 align=bottom NATURALSIZEFLAG="0"><BR><FONT size=-1><A 
href="mailto:rikk@wasabisoft.com,gavin@wasabisoft.com,chris@marrin.com">Questions 
or comments.</A></FONT><BR><FONT size=-1><A 
href="http://www.iua.upf.es/~npares/docencia/vrml/vrml97def/copyright.html">Copyright</A> 
 1997 The VRML Consortium 
Incorporated.<BR><TT>http://www.vrml.org/Specifications/VRML97/part1/nodesRef.html</TT></FONT> 
</P></BODY></HTML>
